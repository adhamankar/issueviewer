<nav class="navbar navbar-expand-lg navbar-dark"
  [ngClass]="{'bg-primary': !connectionDetails || !connectionDetails.offlineMode, 'bg-warning': connectionDetails && connectionDetails.offlineMode}">
  <a class="navbar-brand" href="#"><b>Visualizer</b></a>

  <div class="form-inline mr-auto" *ngIf="connectionDetails">
    <app-issue-entry></app-issue-entry>
  </div>
  <ul class="navbar-nav">
    <li class="nav-item ">
      <a class="nav-link text-white mr-2" (click)="showCustomFieldSetup = true">
        <fa-icon icon="wrench" size="lg"></fa-icon>
      </a>
    </li>
    <li class="nav-item ">
      <a class="nav-link text-white" (click)="showConnectionDetailsSetup = true">
        <fa-icon icon="cog" size="lg"></fa-icon>
      </a>
    </li>
  </ul>
</nav>

<ngx-loading-bar color="#FF8000" height="4pt" [includeSpinner]="false"></ngx-loading-bar>

<p-sidebar [(visible)]="showConnectionDetailsSetup" styleClass="ui-sidebar-md" position="right">
  <app-connection-details (close)="connectionDetailsSetupCompleted()"></app-connection-details>
</p-sidebar>
<p-sidebar [(visible)]="showCustomFieldSetup" styleClass="ui-sidebar-md" position="right">
  <app-custom-fields (close)="customFieldSetupCompleted()"></app-custom-fields>
</p-sidebar>

<div *ngIf="missingConnectionDetails" class="center-text">
  <b>Graphical representation of jira Epics</b>

  <div class="alert alert-warning mt-3">
    <fa-icon icon="exclamation-triangle"></fa-icon>
    Connection details have not been set.
    <a class="text-primary" (click)="showConnectionDetailsSetup = true">Setup now <fa-icon icon="chevron-right"></fa-icon> </a>
  </div>
  <div class="text-left">
    <ol>
      <li>Setup the jira connection details</li>
      <li>Enter the EPIC key</li>
      <li>Browse the Epic children</li>
    </ol>
  </div>
</div>

<div *ngIf="!missingConnectionDetails">
  <router-outlet> </router-outlet>
</div>