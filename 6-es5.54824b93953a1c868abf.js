function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var i=[],s=!0,n=!1,c=void 0;try{for(var a,r=e[Symbol.iterator]();!(s=(a=r.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(o){n=!0,c=o}finally{try{s||null==r.return||r.return()}finally{if(n)throw c}}return i}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"2Jat":function(e,t,i){"use strict";i.r(t);var s=i("ofXK"),n=i("kt0X"),c={primaryIssueKey:"",primaryIssue:null,selectedIssueKey:"",selectedIssue:null,hierarchicalIssue:null,subtasks:null,purpose:[],recentlyViewedItems:[],recentmostItem:null,updatedField:null},a=i("LvDl"),r=i("j9Al"),o={LoadPrimaryIssue:Object(r.b)("[LoadPrimaryIssue]"),LoadPrimaryIssueFailed:Object(r.b)("[LoadPrimaryIssue] Failed"),LoadPrimaryIssueSuccess:Object(r.b)("[LoadPrimaryIssue] Success"),LoadPrimaryIssueEpicChildren:Object(r.b)("[LoadPrimaryIssueEpicChildren]"),LoadPrimaryIssueEpicChildrenFailed:Object(r.b)("[LoadPrimaryIssueEpicChildren] Failed"),LoadPrimaryIssueEpicChildrenSuccess:Object(r.b)("[LoadPrimaryIssueEpicChildren] Success"),LoadPrimaryIssueRelatedLinks:Object(r.b)("[LoadPrimaryIssueRelatedLinks]"),LoadPrimaryIssueRelatedLinksFailed:Object(r.b)("[LoadPrimaryIssueRelatedLinks] Failed"),LoadPrimaryIssueRelatedLinksSuccess:Object(r.b)("[LoadPrimaryIssueRelatedLinks] Success"),SetHierarchicalIssue:Object(r.b)("[SetHierarchicalIssue]"),LoadSubtasks:Object(r.b)("[LoadSubtasks]"),LoadSubtasksFailed:Object(r.b)("[LoadSubtasks] Failed"),LoadSubtasksSuccess:Object(r.b)("[LoadSubtasks] Success"),LoadProjectDetails:Object(r.b)("[LoadProjectDetails]"),LoadProjectDetailsFailed:Object(r.b)("[LoadProjectDetails] Failed"),LoadProjectDetailsSuccess:Object(r.b)("[LoadProjectDetails] Success"),LoadSelectedIssue:Object(r.b)("[LoadSelectedIssue]"),LoadSelectedIssueFailed:Object(r.b)("[LoadSelectedIssue] Failed"),LoadSelectedIssueSuccess:Object(r.b)("[LoadSelectedIssue] Success"),LoadSelectedIssueEpicChildren:Object(r.b)("[LoadSelectedIssueEpicChildren]"),LoadSelectedIssueEpicChildrenFailed:Object(r.b)("[LoadSelectedIssueEpicChildren] Failed"),LoadSelectedIssueEpicChildrenSuccess:Object(r.b)("[LoadSelectedIssueEpicChildren] Success"),LoadSelectedIssueRelatedLinks:Object(r.b)("[LoadSelectedIssueRelatedLinks]"),LoadSelectedIssueRelatedLinksFailed:Object(r.b)("[LoadSelectedIssueRelatedLinks] Failed"),LoadSelectedIssueRelatedLinksSuccess:Object(r.b)("[LoadSelectedIssueRelatedLinks] Success"),SetSelectedIssue:Object(r.b)("[SetSelectedIssue]"),SetPurpose:Object(r.b)("[SetPurpose]"),UpdateOrganizationPurpose:Object(r.b)("[UpdateOrganizationPurpose]"),SetRecentlyViewed:Object(r.b)("[SetRecentlyViewed]"),UpdateFieldValue:Object(r.b)("[UpdateFieldValue]"),UpdateFieldValueFailed:Object(r.b)("[UpdateFieldValue] Failed"),UpdateFieldValueSuccess:Object(r.b)("[UpdateFieldValue] Success"),UpdateOrganizationTitle:Object(r.b)("[UpdateOrganizationTitle]"),UpdateOrganizationTitleFailed:Object(r.b)("[UpdateOrganizationTitle] Failed"),UpdateOrganizationTitleSuccess:Object(r.b)("[UpdateOrganizationTitle] Success")},l=function e(t){_classCallCheck(this,e),this.payload=t,this.type=o.LoadPrimaryIssue},u=function e(t){_classCallCheck(this,e),this.payload=t,this.type=o.LoadPrimaryIssueEpicChildren},d=function e(t){_classCallCheck(this,e),this.payload=t,this.type=o.LoadPrimaryIssueRelatedLinks},b=function e(t){_classCallCheck(this,e),this.payload=t,this.type=o.SetHierarchicalIssue},p=function e(t){_classCallCheck(this,e),this.payload=t,this.type=o.LoadSubtasks},h=function e(t){_classCallCheck(this,e),this.payload=t,this.type=o.LoadProjectDetails},f=function e(t){_classCallCheck(this,e),this.payload=t,this.type=o.LoadSelectedIssue},g=function e(t){_classCallCheck(this,e),this.payload=t,this.type=o.LoadSelectedIssueEpicChildren},y=function e(t){_classCallCheck(this,e),this.payload=t,this.type=o.LoadSelectedIssueRelatedLinks},m=function e(t){_classCallCheck(this,e),this.payload=t,this.type=o.SetSelectedIssue},I=function e(t){_classCallCheck(this,e),this.payload=t,this.type=o.UpdateOrganizationPurpose},v=function e(t){_classCallCheck(this,e),this.payload=t,this.type=o.UpdateFieldValue},k=function e(t){_classCallCheck(this,e),this.payload=t,this.type=o.UpdateOrganizationTitle},C=i("krUz");function j(e,t){switch(t.type){case o.LoadPrimaryIssue:return Object.assign(Object.assign({},e),{primaryIssue:null,primaryIssueKey:t.payload.issue});case o.LoadPrimaryIssueSuccess:return Object.assign(Object.assign({},e),{primaryIssue:O(t.payload)});case o.LoadPrimaryIssueEpicChildren:return Object.assign(Object.assign({},e),{primaryIssue:Object.assign(Object.assign({},e.primaryIssue),{epicChildrenLoading:!0})});case o.LoadPrimaryIssueEpicChildrenSuccess:var i=a.map(t.payload.issues,(function(e){return Object(C.q)(e)}));return Object.assign(Object.assign({},e),{primaryIssue:Object.assign(Object.assign({},e.primaryIssue),{epicChildrenLoading:!1,epicChildrenLoaded:!0,epicChildren:i})});case o.LoadPrimaryIssueRelatedLinks:return Object.assign(Object.assign({},e),{primaryIssue:Object.assign(Object.assign({},e.primaryIssue),{relatedLinksLoading:!0})});case o.LoadPrimaryIssueRelatedLinksSuccess:var s=function(e,t){if(!e.primaryIssue)return null;var i=e.primaryIssue.relatedLinks;if(t.payload&&t.payload.issues&&i){var s=a.map(t.payload.issues,(function(e){return a.pick(Object(C.q)(e),C.r)}));i.forEach((function(e){var t=a.find(s,{key:e.key});t&&(e.project=t.project,e.labels=t.labels,e.fixVersions=t.fixVersions,e.components=t.components)}))}return i}(e,t);return Object.assign(Object.assign({},e),{primaryIssue:Object.assign(Object.assign({},e.primaryIssue),{relatedLinksLoading:!1,relatedLinksLoaded:!0,relatedLinks:s})});case o.SetHierarchicalIssue:return Object.assign(Object.assign({},e),{hierarchicalIssue:t.payload});case o.LoadProjectDetails:return Object.assign(Object.assign({},e),{primaryIssue:Object.assign(Object.assign({},e.primaryIssue),{projectConfigLoading:!0})});case o.LoadProjectDetailsSuccess:var n=(p=t.payload,(h=a.pick(p,["id","key","description","name","customFields"])).hierarchy=[],p.issueTypes&&(h.standardIssueTypes=L(p.issueTypes,!1),h.subTaskIssueTypes=L(p.issueTypes,!0)),h.metadata={},p.components&&(h.metadata.components=a.sortBy(a.map(p.components,(function(e){return a.pick(e,["id","name"])})),["name"])),p.versions&&(h.metadata.versions=a.sortBy(a.map(p.versions,(function(e){return a.pick(e,["archived","id","name","releaseDate"])})),["name"])),h);return Object.assign(Object.assign({},e),{primaryIssue:Object.assign(Object.assign({},e.primaryIssue),{projectConfigLoading:!1,projectConfigLoaded:!0,projectConfig:n})});case o.LoadSubtasks:return Object.assign(Object.assign({},e),{subtasks:null});case o.LoadSubtasksSuccess:var c=null;return t.payload&&t.payload.result&&t.payload.result.issues&&(c=Object(C.m)(t.payload.result.issues),Object(C.d)(c,t.payload.extendedFields)),Object.assign(Object.assign({},e),{subtasks:c});case o.LoadSelectedIssue:return Object.assign(Object.assign({},e),{selectedIssue:null,selectedIssueKey:t.payload.issue});case o.LoadSelectedIssueSuccess:return Object.assign(Object.assign({},e),{selectedIssue:O(t.payload)});case o.LoadSelectedIssueEpicChildren:return Object.assign(Object.assign({},e),{selectedIssue:Object.assign(Object.assign({},e.selectedIssue),{epicChildrenLoading:!0,epicChildrenLoaded:!1})});case o.LoadSelectedIssueEpicChildrenSuccess:var r=a.map(t.payload.issues,(function(e){return Object(C.q)(e)}));return Object.assign(Object.assign({},e),{selectedIssue:Object.assign(Object.assign({},e.selectedIssue),{epicChildrenLoading:!1,epicChildrenLoaded:!0,epicChildren:r})});case o.LoadSelectedIssueRelatedLinks:return Object.assign(Object.assign({},e),{selectedIssue:Object.assign(Object.assign({},e.selectedIssue),{relatedLinksLoading:!0,relatedLinksLoaded:!1})});case o.LoadSelectedIssueRelatedLinksSuccess:var l=a.map(t.payload.issues,(function(e){return Object(C.q)(e)})),u=e.selectedIssue.relatedLinks;return l.forEach((function(e){var t=a.find(u,{key:e.key});e.linkType=t?t.linkType:"link"})),Object.assign(Object.assign({},e),{selectedIssue:Object.assign(Object.assign({},e.selectedIssue),{relatedLinksLoading:!1,relatedLinksLoaded:!0,relatedLinks:l})});case o.SetSelectedIssue:return Object.assign(Object.assign({},e),{selectedIssue:t.payload});case o.SetPurpose:return Object.assign(Object.assign({},e),{purpose:t.payload});case o.UpdateOrganizationPurpose:var d=t.payload||{};return Object.assign(Object.assign({},e),{purpose:e.purpose.map((function(e){return e.issueType===C.a.Organization?Object.assign(Object.assign({},e),{key:d.name,title:d.name,purpose:d.purpose}):e}))});case o.SetRecentlyViewed:return Object.assign(Object.assign({},e),{recentmostItem:t.payload});case o.UpdateFieldValue:return Object.assign(Object.assign({},e),{updatedField:null});case o.UpdateFieldValueSuccess:var b=t.payload;return Object.assign(Object.assign({},e),{updatedField:b});case o.UpdateOrganizationTitleSuccess:return Object.assign(Object.assign({},e),{primaryIssue:Object.assign(Object.assign({},e.primaryIssue),{organization:t.payload})});default:return e}var p,h}function O(e){var t=Object(C.q)(e.issue);return e.extendedFields&&e.extendedFields.length>0&&(t.extendedFields=[],e.extendedFields.forEach((function(i){i.extendedValue=Object(C.n)(e.issue,i.id),t.extendedFields.push(i)}))),t&&(t.organization=e.organization,t.projectConfig=e.projectConfig,t.projectConfigLoaded=!!e.projectConfig,t.relatedLinks=Object(C.o)(e.issue),t.epicChildrenLoading=!1,t.epicChildrenLoaded=!1),t}function L(e,t){return a.map(a.filter(e,{subtask:t}),(function(e){return{name:e.name,list:[]}}))}var S=i("fXoL"),V=i("itXk"),W=i("pLZG"),w=i("6NWb"),F=i("tyNb"),x=i("l2bN");function E(e,t){if(1&e&&(S.Wb(0,"div",15),S.Wb(1,"h5",16),S.Kc(2),S.Vb(),S.Rb(3,"ngx-md",17),S.Vb()),2&e){var i=S.kc().$implicit;S.Cb(2),S.Mc(" ",i.title," "),S.Cb(1),S.pc("data",i.purpose)}}var R=function(e){return{"float-left":e}};function T(e,t){if(1&e&&(S.Wb(0,"div",4),S.Rb(1,"div",9),S.Wb(2,"div",12),S.Wb(3,"a",6),S.ic("click",(function(){var e=t.$implicit;return e.show=!e.show})),S.Rb(4,"fa-icon",7),S.Wb(5,"span",13),S.Kc(6),S.Vb(),S.Vb(),S.Vb(),S.Ic(7,E,4,2,"div",14),S.Vb()),2&e){var i=t.$implicit;S.pc("ngClass",S.tc(4,R,!i.show)),S.Cb(4),S.pc("icon",i.show?"chevron-down":"chevron-right"),S.Cb(2),S.Mc("",i.issueType," purpose"),S.Cb(1),S.pc("ngIf",i.show)}}var $=function(e){return{small:e}};function P(e,t){if(1&e){var i=S.Xb();S.Wb(0,"div",4),S.Wb(1,"div",5),S.Wb(2,"a",6),S.ic("click",(function(){S.Bc(i);var e=S.kc();return e.showHideAllPurposes(!e.showAll)})),S.Rb(3,"fa-icon",7),S.Vb(),S.Vb(),S.Ic(4,T,8,6,"div",8),S.Wb(5,"div",9),S.Kc(6,"\xa0"),S.Vb(),S.Wb(7,"a",10),S.Kc(8," Proceed to workbench "),S.Rb(9,"fa-icon",11),S.Vb(),S.Vb()}if(2&e){var s=S.kc();S.pc("ngClass",S.tc(3,$,s.fontSizeSmall)),S.Cb(3),S.pc("icon",s.showAll?"angle-double-down":"angle-double-right"),S.Cb(1),S.pc("ngForOf",s.purpose)}}var z,K=((z=function(){function e(t){_classCallCheck(this,e),this.store$=t,this.edit=new S.n,this.showAll=!1,this.hideExtendedFields=!1,this.fontSizeSmall=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,t=this.store$.select((function(e){return e.issue.selectedIssue})).pipe(Object(W.a)((function(e){return e}))),i=this.store$.select((function(e){return e.issue.hierarchicalIssue})).pipe(Object(W.a)((function(e){return e})));this.combined$=Object(V.a)(t,i).subscribe((function(t){var i=_slicedToArray(t,2),s=i[0],n=i[1],c=Object(C.s)(n,s.key);c&&(Object(C.g)(s,c),e.purpose=e.expandPurpose(c))}))}},{key:"ngOnDestroy",value:function(){this.hierarchySetupVisibility$&&this.hierarchySetupVisibility$.unsubscribe(),this.combined$&&this.combined$.unsubscribe()}},{key:"showHideAllPurposes",value:function(e){var t=this;this.showAll=e,this.purpose&&(this.purpose.forEach((function(e){return e.show=t.showAll})),!this.showAll&&this.purpose.length>0&&(this.purpose[this.purpose.length-1].show=!0))}},{key:"expandPurpose",value:function(e){var t=[];return this.populatePurpose(e,t),a.reverse(t),t.length>0&&(t[t.length-1].show=!0),t}},{key:"populatePurpose",value:function(e,t){e&&(e.issueType!==C.a.EpicChildren&&e.issueType!==C.a.RelatedLink&&t.push({key:e.key,issueType:e.issueType,title:e.title,purpose:e.description,editable:e.editable,hfKey:e.hfKey,show:!1}),e.parent&&this.populatePurpose(e.parent,t))}}]),e}()).\u0275fac=function(e){return new(e||z)(S.Qb(n.h))},z.\u0275cmp=S.Kb({type:z,selectors:[["app-purpose"]],outputs:{edit:"edit"},decls:4,vars:1,consts:[[1,"row"],[1,"col-md-10"],[3,"ngClass",4,"ngIf"],[1,"col-md-2"],[3,"ngClass"],[1,"border-0","pb-0","mb-2","float-left"],["title","Show/hide details",1,"btn","btn-light","btn-sm","text-muted","mr-2",3,"click"],["size","fw",3,"icon"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"clearfix"],["routerLink","../workbench",1,"btn","btn-light","btn-sm","text-primary","mt-3"],["icon","chevron-right","size","sm"],[1,"text-uppercase","text-muted"],[1,"small"],["class","ml-3 pl-3 pr-3 border-left","style","overflow:auto",4,"ngIf"],[1,"ml-3","pl-3","pr-3","border-left",2,"overflow","auto"],[1,"text-dark","font-weight-normal","mt-1"],[3,"data"]],template:function(e,t){1&e&&(S.Wb(0,"div",0),S.Wb(1,"div",1),S.Ic(2,P,10,5,"div",2),S.Vb(),S.Rb(3,"div",3),S.Vb()),2&e&&(S.Cb(2),S.pc("ngIf",t.purpose&&t.purpose.length>0))},directives:[s.l,s.j,w.a,s.k,F.f,x.a],encapsulation:2}),z),N=i("sITn"),M=i("3Pt+"),D=i("jLSX"),B=i("lJxs"),_=i("AQDj");function U(e,t){if(1&e&&(S.Wb(0,"span",17),S.Kc(1),S.Vb()),2&e){var i=t.$implicit;S.Cb(1),S.Lc(i)}}function A(e,t){if(1&e&&(S.Wb(0,"div",14),S.Wb(1,"span",15),S.Kc(2,"FIX VERSION: "),S.Vb(),S.Ic(3,U,2,1,"span",16),S.Vb()),2&e){var i=S.kc(2);S.Cb(3),S.pc("ngForOf",i.selectedIssue.fixVersions)}}function X(e,t){1&e&&(S.Wb(0,"a",18),S.Rb(1,"fa-icon",19),S.Kc(2," Storyboard "),S.Vb()),2&e&&S.pc("routerLinkActive","active")}var H=function(){return["details"]},Q=function(){return["far","window-restore"]};function q(e,t){if(1&e&&(S.Wb(0,"div",2),S.Wb(1,"div"),S.Ic(2,A,4,1,"div",3),S.Wb(3,"sub",4),S.Kc(4),S.Vb(),S.Rb(5,"app-issue-navigation-menu",5),S.Vb(),S.Wb(6,"h2",6),S.Kc(7),S.Wb(8,"sup",7),S.Kc(9),S.Vb(),S.Vb(),S.Wb(10,"div",8),S.Wb(11,"a",9),S.Rb(12,"fa-icon",10),S.Kc(13," Purpose "),S.Vb(),S.Wb(14,"a",11),S.Rb(15,"fa-icon",12),S.Kc(16," Workbench "),S.Vb(),S.Ic(17,X,3,1,"a",13),S.Vb(),S.Vb()),2&e){var i=S.kc();S.Cb(2),S.pc("ngIf",i.selectedIssue.fixVersions&&i.selectedIssue.fixVersions.length>0),S.Cb(2),S.Nc(" ",i.selectedIssue.issueType,": ",i.selectedIssue.key," "),S.Cb(1),S.pc("issueKey",i.selectedIssue.key),S.Cb(2),S.Mc(" ",i.selectedIssue.title," "),S.Cb(2),S.Mc(" ",i.selectedIssue.status," "),S.Cb(2),S.pc("routerLink",S.sc(11,H))("routerLinkActive","active"),S.Cb(3),S.pc("routerLinkActive","active"),S.Cb(1),S.pc("icon",S.sc(12,Q)),S.Cb(2),S.pc("ngIf",i.canNavigateToStoryboard())}}var J,G=((J=function(){function e(t,i,s){var n=this;_classCallCheck(this,e),this.router=t,this.activatedRoute=i,this.store$=s,this.canNavigateToStoryboard=function(){return n.selectedIssue&&n.primaryIssue&&("Epic"===n.selectedIssue.issueType||n.primaryIssue.key.toLowerCase()===n.selectedIssue.key.toLowerCase())}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.localNodeType=C.a,this.updatedField$=this.store$.select((function(e){return e.issue.updatedField})).pipe(Object(W.a)((function(t){return t&&e.selectedIssue}))).subscribe((function(t){e.store$.dispatch(new f({issue:e.selectedIssue.key,extendedFields:e.extendedFields}))})),this.organization$=this.store$.select((function(e){return e.app.organization})).pipe(Object(W.a)((function(e){return e}))).subscribe((function(t){return e.store$.dispatch(new I(t))})),this.selectedIssue$=this.store$.select((function(e){return e.issue.selectedIssue})).pipe(Object(W.a)((function(e){return e}))).subscribe((function(t){e.selectedIssue=t,e.selectedIssue.relatedLinksLoaded||e.selectedIssue.relatedLinksLoading||e.selectedIssue.relatedLinks&&e.selectedIssue.relatedLinks.length>0&&e.store$.dispatch(new y(a.map(e.selectedIssue.relatedLinks,"key"))),e.selectedIssue.issueType!==C.a.Epic||e.selectedIssue.epicChildrenLoaded||e.selectedIssue.epicChildrenLoading||e.store$.dispatch(new g(e.selectedIssue.key))}));var t=this.store$.select((function(e){return e.issue.primaryIssue})).pipe(Object(W.a)((function(e){return e}))),i=this.store$.select((function(e){return e.issue.hierarchicalIssue})).pipe(Object(W.a)((function(e){return e}))),s=this.activatedRoute.params.pipe(Object(W.a)((function(e){return e&&e.selected&&e.selected.length>0})),Object(B.a)((function(e){return e.selected})));this.combined$=Object(V.a)(t,i,s).subscribe((function(t){var i=_slicedToArray(t,3),s=i[0],n=i[1],c=i[2];if(e.primaryIssue=s,c.toLowerCase()===e.primaryIssue.key.toLowerCase())e.store$.dispatch(new m(s));else if(!e.selectedIssue||e.selectedIssue.key.toLowerCase()!==c.toLowerCase()){var a=Object(C.s)(n,c);e.extendedFields=a?e.populateExtendedFields(s.projectConfig,a.issueType):[],e.store$.dispatch(new f({issue:c,extendedFields:e.extendedFields}))}}))}},{key:"populateExtendedFields",value:function(e,t){if(e&&e.standardIssueTypes){var i=a.find(e.standardIssueTypes,{name:t});return i?i.list:[]}return[]}},{key:"ngOnDestroy",value:function(){this.updatedField$&&this.updatedField$.unsubscribe(),this.organization$&&this.organization$.unsubscribe(),this.combined$&&this.combined$.unsubscribe(),this.selectedIssue$&&this.selectedIssue$.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||J)(S.Qb(F.d),S.Qb(F.a),S.Qb(n.h))},J.\u0275cmp=S.Kb({type:J,selectors:[["app-selected-issue-container"]],decls:4,vars:1,consts:[[1,"container-fluid"],["class","pb-3",4,"ngIf"],[1,"pb-3"],["class","float-right small mt-1",4,"ngIf"],[1,"text-uppercase","mr-2"],["icon","ellipsis-h","placement","bottom-left",3,"issueKey"],[1,"font-weight-light"],[1,"badge","badge-light","text-uppercase","text-muted",2,"font-size","small"],[1,"pb-0"],["title","View purpose",1,"btn","btn-default","btn-sm","mr-1",3,"routerLink","routerLinkActive"],["icon","fire","size","sm",1,"text-brand"],["routerLink","workbench",1,"btn","btn-default","btn-sm","mr-1",3,"routerLinkActive"],["size","sm",3,"icon"],["class","btn btn-default btn-sm mr-1","routerLink","storyboard",3,"routerLinkActive",4,"ngIf"],[1,"float-right","small","mt-1"],[1,"small","text-muted"],["class","badge badge-light ml-1",4,"ngFor","ngForOf"],[1,"badge","badge-light","ml-1"],["routerLink","storyboard",1,"btn","btn-default","btn-sm","mr-1",3,"routerLinkActive"],["icon","map","size","sm"]],template:function(e,t){1&e&&(S.Wb(0,"div",0),S.Ic(1,q,18,13,"div",1),S.Wb(2,"div"),S.Rb(3,"router-outlet"),S.Vb(),S.Vb()),2&e&&(S.Cb(1),S.pc("ngIf",t.selectedIssue))},directives:[s.l,F.h,_.a,F.f,F.e,w.a,s.k],encapsulation:2}),J),Y=i("1kSV"),Z=i("cdP3");function ee(e,t){1&e&&(S.Wb(0,"div",3),S.Rb(1,"fa-icon",4),S.Kc(2," There are no extended fields/attributes for this record. "),S.Vb())}var te=function(e){return{small:e}};function ie(e,t){if(1&e&&(S.Wb(0,"div",8),S.Wb(1,"sub",9),S.Kc(2),S.Vb(),S.Rb(3,"ngx-md",10),S.Vb()),2&e){var i=S.kc().$implicit,s=S.kc(3);S.Cb(2),S.Lc(i.name),S.Cb(1),S.pc("ngClass",S.tc(3,te,s.fontSizeSmall))("data",i.extendedValue)}}function se(e,t){if(1&e&&(S.Ub(0),S.Ic(1,ie,4,5,"div",7),S.Tb()),2&e){var i=t.$implicit;S.Cb(1),S.pc("ngIf",i.extendedValue&&i.extendedValue.length>0)}}function ne(e,t){if(1&e&&(S.Wb(0,"div",5),S.Ic(1,se,2,1,"ng-container",6),S.Vb()),2&e){var i=S.kc(2);S.Cb(1),S.pc("ngForOf",i.issue.extendedFields)}}function ce(e,t){if(1&e&&(S.Wb(0,"div"),S.Ic(1,ee,3,0,"div",1),S.Ic(2,ne,2,1,"div",2),S.Vb()),2&e){var i=S.kc();S.Cb(1),S.pc("ngIf",!i.issue.extendedFields||0===i.issue.extendedFields.length),S.Cb(1),S.pc("ngIf",i.issue.extendedFields&&i.issue.extendedFields.length>0)}}var ae,re=((ae=function e(){_classCallCheck(this,e),this.fontSizeSmall=!1}).\u0275fac=function(e){return new(e||ae)},ae.\u0275cmp=S.Kb({type:ae,selectors:[["app-extended-fields"]],inputs:{issue:"issue"},decls:1,vars:1,consts:[[4,"ngIf"],["class","alert alert-warning",4,"ngIf"],["class","mt-5",4,"ngIf"],[1,"alert","alert-warning"],["icon","exclamation-triangle",1,"text-warning"],[1,"mt-5"],[4,"ngFor","ngForOf"],["class","mb-2",4,"ngIf"],[1,"mb-2"],[1,"text-muted","text-uppercase"],[3,"ngClass","data"]],template:function(e,t){1&e&&S.Ic(0,ce,3,2,"div",0),2&e&&S.pc("ngIf",t.issue)},directives:[s.l,w.a,s.k,x.a,s.j],encapsulation:2}),ae);function oe(e,t){if(1&e){var i=S.Xb();S.Wb(0,"button",12),S.ic("click",(function(){S.Bc(i);var e=S.kc(3);return e.hideDetails=!e.hideDetails})),S.Kc(1),S.Vb()}if(2&e){var s=S.kc(3);S.Cb(1),S.Mc(" ",s.hideDetails?"more ...":"... less"," ")}}function le(e,t){if(1&e){var i=S.Xb();S.Wb(0,"div",3),S.Rb(1,"app-issue-navigation-menu",4),S.Wb(2,"button",5),S.ic("click",(function(){return S.Bc(i),S.kc(2).onClose()})),S.Rb(3,"fa-icon",6),S.Vb(),S.Wb(4,"span",7),S.Wb(5,"span",8),S.Kc(6),S.Vb(),S.Kc(7),S.Vb(),S.Ic(8,oe,2,1,"button",9),S.Wb(9,"div",10),S.Rb(10,"ngx-md",11),S.Vb(),S.Vb()}if(2&e){var s=S.kc(2);S.Cb(1),S.pc("issueKey",s.issue.key),S.Cb(5),S.Mc("",s.issue.key,":"),S.Cb(1),S.Mc(" ",s.issue.title," "),S.Cb(1),S.pc("ngIf",s.issue.description&&s.issue.description.length>0),S.Cb(1),S.pc("ngbCollapse",s.hideDetails),S.Cb(1),S.pc("data",s.issue.description)}}function ue(e,t){if(1&e){var i=S.Xb();S.Wb(0,"button",23),S.ic("click",(function(){return S.Bc(i),S.kc(3).showHideExtendedFields()})),S.Rb(1,"fa-icon",24),S.Vb()}if(2&e){var s=S.kc(3);S.Cb(1),S.pc("fixedWidth",!0)("icon",s.hideExtendedFields?"angle-double-right":"angle-double-down")}}function de(e,t){if(1&e&&(S.Wb(0,"span",8),S.Kc(1),S.Vb()),2&e){var i=S.kc(3);S.Cb(1),S.Mc(" ",i.filteredItems.length," ")}}function be(e,t){if(1&e){var i=S.Xb();S.Wb(0,"button",25),S.ic("click",(function(){S.Bc(i);var e=S.kc(3);return e.tasklistFilterVisible=!e.tasklistFilterVisible})),S.Rb(1,"fa-icon",26),S.Vb()}if(2&e){var s=S.kc(3);S.Cb(1),S.pc("icon",s.tasklistFilterVisible?"chevron-up":"filter")}}function pe(e,t){if(1&e&&(S.Wb(0,"option",31),S.Kc(1),S.Vb()),2&e){var i=t.$implicit;S.pc("value",i.key),S.Cb(1),S.Mc(" ",i.key+" ("+i.count+")","")}}function he(e,t){if(1&e){var i=S.Xb();S.Wb(0,"div",27),S.Wb(1,"select",28),S.ic("ngModelChange",(function(e){return S.Bc(i),S.kc(3).issueTypeFilter=e}))("change",(function(){return S.Bc(i),S.kc(3).onFilterChanged()})),S.Wb(2,"option",29),S.Kc(3,"ISSUE TYPE: All"),S.Vb(),S.Ic(4,pe,2,2,"option",30),S.Vb(),S.Vb()}if(2&e){var s=S.kc(3);S.Cb(1),S.pc("ngModel",s.issueTypeFilter),S.Cb(3),S.pc("ngForOf",s.issueTypeStats)}}function fe(e,t){if(1&e&&(S.Wb(0,"option",31),S.Kc(1),S.Vb()),2&e){var i=t.$implicit;S.pc("value",i.key),S.Cb(1),S.Mc(" ",i.key+" ("+i.count+")","")}}function ge(e,t){if(1&e){var i=S.Xb();S.Wb(0,"div",27),S.Wb(1,"select",28),S.ic("ngModelChange",(function(e){return S.Bc(i),S.kc(3).statusFilter=e}))("change",(function(){return S.Bc(i),S.kc(3).onFilterChanged()})),S.Wb(2,"option",29),S.Kc(3,"STATUS: All"),S.Vb(),S.Ic(4,fe,2,2,"option",30),S.Vb(),S.Vb()}if(2&e){var s=S.kc(3);S.Cb(1),S.pc("ngModel",s.statusFilter),S.Cb(3),S.pc("ngForOf",s.statusStats)}}function ye(e,t){if(1&e){var i=S.Xb();S.Wb(0,"button",40),S.ic("click",(function(){S.Bc(i);var e=S.kc().$implicit;return e.hideExtendedFields=!e.hideExtendedFields})),S.Rb(1,"fa-icon",24),S.Vb()}if(2&e){var s=S.kc().$implicit;S.Cb(1),S.pc("fixedWidth",!0)("icon",s.hideExtendedFields?"angle-right":"angle-down")}}function me(e,t){if(1&e&&(S.Wb(0,"tr"),S.Wb(1,"td",44),S.Kc(2),S.Vb(),S.Wb(3,"td",45),S.Kc(4),S.Vb(),S.Vb()),2&e){var i=t.$implicit;S.Cb(2),S.Mc("",i.name,":"),S.Cb(2),S.Mc(" ",i.value," ")}}function Ie(e,t){if(1&e&&(S.Wb(0,"div",41),S.Wb(1,"table",42),S.Ic(2,me,5,2,"tr",43),S.Vb(),S.Vb()),2&e){var i=S.kc().$implicit;S.Cb(2),S.pc("ngForOf",i.extendedFields)}}var ve=function(e){return{"ml-4":e}};function ke(e,t){if(1&e&&(S.Wb(0,"div",32),S.Ic(1,ye,2,2,"button",33),S.Wb(2,"small",34),S.Kc(3),S.Vb(),S.Wb(4,"small",35),S.Wb(5,"span",36),S.Kc(6),S.Vb(),S.Kc(7),S.Vb(),S.Wb(8,"div",37),S.Wb(9,"div",38),S.Kc(10),S.Vb(),S.Ic(11,Ie,3,1,"div",39),S.Vb(),S.Vb()),2&e){var i=t.$implicit,s=S.kc(3);S.Cb(1),S.pc("ngIf",s.hasExtendedFields),S.Cb(2),S.Lc(i.status),S.Cb(3),S.Lc(i.issueType),S.Cb(1),S.Mc(": ",i.key," "),S.Cb(1),S.pc("ngClass",S.tc(7,ve,s.hasExtendedFields)),S.Cb(2),S.Lc(i.title),S.Cb(1),S.pc("ngIf",!i.hideExtendedFields&&i.extendedFields&&i.extendedFields.length>0)}}function Ce(e,t){if(1&e&&(S.Wb(0,"div"),S.Wb(1,"div",13),S.Wb(2,"div",14),S.Wb(3,"div",15),S.Ic(4,ue,2,2,"button",16),S.Wb(5,"b",17),S.Ic(6,de,2,1,"span",18),S.Kc(7),S.Vb(),S.Ic(8,be,2,1,"button",19),S.Vb(),S.Wb(9,"div",20),S.Ic(10,he,5,2,"div",21),S.Ic(11,ge,5,2,"div",21),S.Vb(),S.Vb(),S.Ic(12,ke,12,9,"div",22),S.Vb(),S.Vb()),2&e){var i=S.kc(2);S.Cb(4),S.pc("ngIf",i.hasExtendedFields),S.Cb(2),S.pc("ngIf",i.filteredItems.length>0),S.Cb(1),S.Mc(" record",i.filteredItems.length>1?"s":"",""),S.Cb(1),S.pc("ngIf",i.issueTypeStats&&i.issueTypeStats.length>1||i.statusStats&&i.statusStats.length>1),S.Cb(1),S.pc("ngbCollapse",!i.tasklistFilterVisible),S.Cb(1),S.pc("ngIf",i.issueTypeStats&&i.issueTypeStats.length>1),S.Cb(1),S.pc("ngIf",i.statusStats&&i.statusStats.length>1),S.Cb(1),S.pc("ngForOf",i.filteredItems)}}function je(e,t){1&e&&(S.Wb(0,"div",46),S.Kc(1," No detail records found. "),S.Vb())}function Oe(e,t){if(1&e&&(S.Wb(0,"div"),S.Ic(1,le,11,6,"div",1),S.Ic(2,Ce,13,8,"div",0),S.Ic(3,je,2,0,"div",2),S.Vb()),2&e){var i=S.kc();S.Cb(1),S.pc("ngIf",i.showIssue),S.Cb(1),S.pc("ngIf",i.filteredItems&&i.filteredItems.length>0),S.Cb(1),S.pc("ngIf",i.filteredItems&&0===i.filteredItems.length)}}var Le,Se=((Le=function(){function e(t){_classCallCheck(this,e),this.store$=t,this.close=new S.n,this.tasklistFilterVisible=!1,this.childIssueType="",this.hasExtendedFields=!1,this.hideDetails=!0,this.hideExtendedFields=!0,this.statusFilter="all",this.issueTypeFilter="all"}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.subtasks$=this.store$.select((function(e){return e.issue.subtasks})).pipe(Object(W.a)((function(e){return e}))).subscribe((function(t){e.subtasks=t,e.subtasks.forEach((function(t){return t.hideExtendedFields=e.hideExtendedFields})),e.onFilterChanged(),e.populateStatistics()}))}},{key:"ngOnDestroy",value:function(){this.subtasks$&&this.subtasks$.unsubscribe()}},{key:"loadDetails",value:function(){if(this.subtasks=null,this.issue&&this.issue.projectConfig&&this.issue.projectConfig.subTaskIssueTypes&&this.issue.projectConfig.subTaskIssueTypes.length>0){var e=a.join(a.map(this.issue.projectConfig.subTaskIssueTypes,(function(e){return"'".concat(e.name,"'")})),","),t=a.spread(a.union)(a.map(this.issue.projectConfig.subTaskIssueTypes,"list"));this.hasExtendedFields=t&&t.length>0,this.store$.dispatch(new p({issueKey:this.issue.key,subTaskIssueTypes:e,extendedFields:t}))}}},{key:"populateStatistics",value:function(){var e=a.mapValues(a.groupBy(a.map(this.subtasks,"status")),(function(e){return e.length}));this.statusStats=Object.keys(e).map((function(t){return{key:t,count:e[t]}}));var t=a.mapValues(a.groupBy(a.map(this.subtasks,"issueType")),(function(e){return e.length}));this.issueTypeStats=Object.keys(t).map((function(e){return{key:e,count:t[e]}}))}},{key:"onFilterChanged",value:function(){var e=this;this.filteredItems=a.filter(this.subtasks,(function(t){return!(e.statusFilter&&"all"!==e.statusFilter&&t.status!==e.statusFilter||e.issueTypeFilter&&"all"!==e.issueTypeFilter&&t.issueType!==e.issueTypeFilter)})),this.filteredItems=a.orderBy(this.filteredItems,["issueType","status"])}},{key:"showHideExtendedFields",value:function(){var e=this;this.hideExtendedFields=!this.hideExtendedFields,this.subtasks&&this.subtasks.forEach((function(t){return t.hideExtendedFields=e.hideExtendedFields}))}},{key:"onClose",value:function(){this.close.emit(!0)}},{key:"issue",set:function(e){this._issue=e,this.loadDetails()},get:function(){return this._issue}}]),e}()).\u0275fac=function(e){return new(e||Le)(S.Qb(n.h))},Le.\u0275cmp=S.Kb({type:Le,selectors:[["app-task-list"]],inputs:{issue:"issue",showIssue:"showIssue"},outputs:{close:"close"},decls:1,vars:1,consts:[[4,"ngIf"],["class","alert bg-light pl-0 mb-0","style","font-size:medium;",4,"ngIf"],["class","alert alert-warning mt-2",4,"ngIf"],[1,"alert","bg-light","pl-0","mb-0",2,"font-size","medium"],[1,"float-right",3,"issueKey"],[1,"btn","btn-sm","btn-link","mr-2",3,"click"],["icon","chevron-left","size","lg"],[1,"pt-2"],[1,"mr-1"],["class","btn btn-link btn-sm",3,"click",4,"ngIf"],[1,"small","p-4",3,"ngbCollapse"],[3,"data"],[1,"btn","btn-link","btn-sm",3,"click"],[1,"list-group","list-group-flush","list-group-flush-compact"],[1,"list-group-item","list-group-item-light"],[1,"clearfix"],["class","btn btn-sm btn-link text-muted pl-0","title","Show/hide details",3,"click",4,"ngIf"],[1,"mt-1"],["class","mr-1",4,"ngIf"],["class","btn btn-link btn-sm float-right","title","Filters",3,"click",4,"ngIf"],[1,"row","ml-3",3,"ngbCollapse"],["class","col-md-6",4,"ngIf"],["class","list-group-item",4,"ngFor","ngForOf"],["title","Show/hide details",1,"btn","btn-sm","btn-link","text-muted","pl-0",3,"click"],["size","sm",3,"fixedWidth","icon"],["title","Filters",1,"btn","btn-link","btn-sm","float-right",3,"click"],["size","sm",3,"icon"],[1,"col-md-6"],[1,"form-control","form-control-sm",3,"ngModel","ngModelChange","change"],["value","all"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"list-group-item"],["class","btn btn-link btn-sm text-muted pl-0 pt-0","title","Show/hide details",3,"click",4,"ngIf"],[1,"float-right","badge","badge-light","font-weight-light","text-uppercase"],[1,"text-muted"],[1,"text-uppercase"],[3,"ngClass"],[1,"text-no-wrap"],["style","overflow: auto;","class","alert mt-2 p-0 rounded-0 border-0",4,"ngIf"],["title","Show/hide details",1,"btn","btn-link","btn-sm","text-muted","pl-0","pt-0",3,"click"],[1,"alert","mt-2","p-0","rounded-0","border-0",2,"overflow","auto"],[1,"table","table-small","m-0","border-0","bg-light","extended-fields"],[4,"ngFor","ngForOf"],["width","10%",1,"p-1","text-nowrap","text-muted"],["Markdown","",1,"p-1","text-dark"],[1,"alert","alert-warning","mt-2"]],template:function(e,t){1&e&&S.Ic(0,Oe,4,3,"div",0),2&e&&S.pc("ngIf",t.issue)},directives:[s.l,_.a,w.a,Y.b,x.a,s.k,M.k,M.f,M.i,M.j,M.l,s.j],encapsulation:2}),Le),Ve=["content"];function We(e,t){if(1&e&&S.Rb(0,"app-extended-fields",17),2&e){var i=S.kc(2);S.pc("issue",i.issue)}}function we(e,t){if(1&e&&S.Rb(0,"fa-icon",19),2&e){var i=S.kc(3);S.pc("icon",i.allEpicChildrenVisible?"angle-double-down":"angle-double-right")("fixedWidth",!0)}}function Fe(e,t){1&e&&(S.Wb(0,"div",23),S.Kc(1," There are no issues in this epic "),S.Vb())}function xe(e,t){if(1&e){var i=S.Xb();S.Wb(0,"div",33),S.Rb(1,"app-issue-navigation-menu",34),S.Wb(2,"div",35),S.Kc(3),S.Vb(),S.Rb(4,"i",36),S.Wb(5,"a",37),S.ic("click",(function(){S.Bc(i);var e=t.$implicit;return S.kc(8).selectEpicIssue(e)})),S.Kc(6),S.Vb(),S.Kc(7),S.Vb()}if(2&e){var s=t.$implicit;S.Cb(1),S.pc("issueKey",s.key),S.Cb(2),S.Mc(" ",s.duedate," "),S.Cb(1),S.Eb(s.icon),S.Cb(2),S.Lc(s.key),S.Cb(1),S.Mc(" ",s.title," ")}}function Ee(e,t){if(1&e&&(S.Wb(0,"div",31),S.Ic(1,xe,8,6,"div",32),S.Vb()),2&e){var i=S.kc().$implicit;S.Cb(1),S.pc("ngForOf",i.children)}}var Re=function(e){return{"w-100 btn-light ":e}};function Te(e,t){if(1&e&&(S.Wb(0,"div"),S.Wb(1,"div",27),S.Wb(2,"button",28),S.ic("click",(function(){var e=t.$implicit;return e.visible=!e.visible})),S.Rb(3,"fa-icon",19),S.Wb(4,"span",29),S.Kc(5),S.Vb(),S.Vb(),S.Vb(),S.Ic(6,Ee,2,1,"div",30),S.Vb()),2&e){var i=t.$implicit;S.Cb(2),S.pc("ngClass",S.tc(6,Re,i.visible)),S.Cb(1),S.pc("icon",i.visible?"angle-down":"angle-right")("fixedWidth",!0),S.Cb(2),S.Nc("",i.label," / ",i.total,""),S.Cb(1),S.pc("ngIf",i.visible)}}function $e(e,t){if(1&e&&(S.Wb(0,"div"),S.Ic(1,Te,7,8,"div",24),S.Wb(2,"a",25),S.Kc(3," Storyboard view "),S.Rb(4,"fa-icon",26),S.Vb(),S.Vb()),2&e){var i=S.kc(5);S.Cb(1),S.pc("ngForOf",i.groupedEpicChildren)}}function Pe(e,t){if(1&e){var i=S.Xb();S.Wb(0,"div"),S.Wb(1,"app-task-list",38),S.ic("close",(function(){return S.Bc(i),S.kc(5).resetSelectedEpicIssue()})),S.Vb(),S.Vb()}if(2&e){var s=S.kc(5);S.Cb(1),S.pc("issue",s.selectedEpicIssue)("showIssue",!0)}}function ze(e,t){if(1&e&&(S.Wb(0,"div"),S.Ic(1,$e,5,1,"div",22),S.Ic(2,Pe,2,2,"div",22),S.Vb()),2&e){var i=S.kc(4);S.Cb(1),S.pc("ngIf",!i.selectedEpicIssue),S.Cb(1),S.pc("ngIf",i.selectedEpicIssue)}}function Ke(e,t){if(1&e&&(S.Wb(0,"div",20),S.Ic(1,Fe,2,0,"div",21),S.Ic(2,ze,3,2,"div",22),S.Vb()),2&e){var i=S.kc(3);S.Cb(1),S.pc("ngIf",i.groupedEpicChildren&&0===i.groupedEpicChildren.length),S.Cb(1),S.pc("ngIf",i.groupedEpicChildren&&i.groupedEpicChildren.length>0)}}function Ne(e,t){if(1&e){var i=S.Xb();S.Wb(0,"li",13),S.Wb(1,"a",14),S.ic("click",(function(){return S.Bc(i),S.kc(2).toggleAllEpicChildren()})),S.Ic(2,we,1,2,"fa-icon",18),S.Kc(3," Issues in epic "),S.Vb(),S.Ic(4,Ke,3,2,"ng-template",15),S.Vb()}if(2&e){var s=S.kc(2);S.pc("ngbNavItem",1),S.Cb(2),S.pc("ngIf",s.groupedEpicChildren&&s.groupedEpicChildren.length>1)}}function Me(e,t){if(1&e&&S.Rb(0,"fa-icon",19),2&e){var i=S.kc(3);S.pc("icon",i.allRelatedIssuesVisible?"angle-double-down":"angle-double-right")("fixedWidth",!0)}}function De(e,t){if(1&e&&(S.Wb(0,"span"),S.Kc(1),S.Vb()),2&e){var i=S.kc().$implicit;S.Cb(1),S.Mc(" / ",i.children.length,"")}}function Be(e,t){if(1&e){var i=S.Xb();S.Wb(0,"div",40),S.Rb(1,"app-issue-navigation-menu",34),S.Wb(2,"div",35),S.Kc(3),S.Vb(),S.Rb(4,"i",36),S.Wb(5,"a",37),S.ic("click",(function(){S.Bc(i);var e=t.$implicit;return S.kc(7).selectRelatedIssue(e)})),S.Kc(6),S.Vb(),S.Kc(7),S.Vb()}if(2&e){var s=t.$implicit;S.pc("title",s.issueType),S.Cb(1),S.pc("issueKey",s.key),S.Cb(2),S.Mc(" ",s.status," "),S.Cb(1),S.Eb(s.icon),S.Cb(2),S.Lc(s.key),S.Cb(1),S.Mc(" ",s.title," ")}}function _e(e,t){if(1&e&&(S.Wb(0,"div",31),S.Ic(1,Be,8,7,"div",39),S.Vb()),2&e){var i=S.kc().$implicit;S.Cb(1),S.pc("ngForOf",i.children)}}function Ue(e,t){if(1&e&&(S.Wb(0,"div"),S.Wb(1,"div",27),S.Wb(2,"button",28),S.ic("click",(function(){var e=t.$implicit;return e.visible=!e.visible})),S.Rb(3,"fa-icon",19),S.Wb(4,"span",29),S.Kc(5),S.Ic(6,De,2,1,"span",22),S.Vb(),S.Vb(),S.Vb(),S.Ic(7,_e,2,1,"div",30),S.Vb()),2&e){var i=t.$implicit;S.Cb(2),S.pc("ngClass",S.tc(6,Re,i.visible)),S.Cb(1),S.pc("icon",i.visible?"angle-down":"angle-right")("fixedWidth",!0),S.Cb(2),S.Mc("",i.label," "),S.Cb(1),S.pc("ngIf",i.children),S.Cb(1),S.pc("ngIf",i.visible)}}function Ae(e,t){if(1&e&&(S.Wb(0,"div"),S.Ic(1,Ue,8,8,"div",24),S.Vb()),2&e){var i=S.kc(4);S.Cb(1),S.pc("ngForOf",i.groupedRelatedLinks)}}function Xe(e,t){if(1&e){var i=S.Xb();S.Wb(0,"div"),S.Wb(1,"app-task-list",38),S.ic("close",(function(){return S.Bc(i),S.kc(4).resetSelectedRelatedIssue()})),S.Vb(),S.Vb()}if(2&e){var s=S.kc(4);S.Cb(1),S.pc("issue",s.selectedRelatedIssue)("showIssue",!0)}}function He(e,t){if(1&e&&(S.Wb(0,"div",20),S.Ic(1,Ae,2,1,"div",22),S.Ic(2,Xe,2,2,"div",22),S.Vb()),2&e){var i=S.kc(3);S.Cb(1),S.pc("ngIf",!i.selectedRelatedIssue),S.Cb(1),S.pc("ngIf",i.selectedRelatedIssue)}}function Qe(e,t){if(1&e){var i=S.Xb();S.Wb(0,"li",13),S.Wb(1,"a",14),S.ic("click",(function(){return S.Bc(i),S.kc(2).toggleAllRelatedIssues()})),S.Ic(2,Me,1,2,"fa-icon",18),S.Kc(3," Related "),S.Vb(),S.Ic(4,He,3,2,"ng-template",15),S.Vb()}if(2&e){var s=S.kc(2);S.pc("ngbNavItem",2),S.Cb(2),S.pc("ngIf",s.groupedRelatedLinks.length>1)}}function qe(e,t){if(1&e&&(S.Wb(0,"div",20),S.Rb(1,"app-task-list",41),S.Vb()),2&e){var i=S.kc(2);S.Cb(1),S.pc("issue",i.selectedIssue)("showIssue",!1)}}var Je=function(e){return{small:e}};function Ge(e,t){if(1&e){var i=S.Xb();S.Wb(0,"as-split",2),S.ic("gutterDblClick",(function(){return S.Bc(i),S.kc().toggleFullscreen()}))("dragEnd",(function(e){return S.Bc(i),S.kc().dragEnd(e)})),S.Wb(1,"as-split-area",3),S.Wb(2,"div",4),S.Rb(3,"ngx-md",5),S.Ic(4,We,1,1,"app-extended-fields",6),S.Vb(),S.Vb(),S.Wb(5,"as-split-area",7),S.Wb(6,"button",8),S.ic("click",(function(){return S.Bc(i),S.kc().toggleFullscreen()})),S.Rb(7,"fa-icon",9),S.Vb(),S.Wb(8,"ul",10,11),S.ic("activeIdChange",(function(e){return S.Bc(i),S.kc().selectedTab=e})),S.Ic(10,Ne,5,2,"li",12),S.Ic(11,Qe,5,2,"li",12),S.Wb(12,"li",13),S.Wb(13,"a",14),S.ic("click",(function(){return S.Bc(i),S.kc().reloadSubtasks()})),S.Kc(14,"Task breakup"),S.Vb(),S.Ic(15,qe,2,2,"ng-template",15),S.Vb(),S.Vb(),S.Rb(16,"div",16),S.Vb(),S.Vb()}if(2&e){var s=S.Ac(9),n=S.kc();S.Cb(1),S.pc("size",n.columns[0].size),S.Cb(2),S.pc("data",n.issue.description),S.Cb(1),S.pc("ngIf",n.leftPaneSize>0),S.Cb(1),S.pc("size",n.columns[1].size)("ngClass",S.tc(13,Je,0!==n.columns[0].size)),S.Cb(2),S.pc("icon",0===n.columns[0].size?"compress-arrows-alt":"expand-arrows-alt")("fixedWidth",!0),S.Cb(1),S.pc("activeId",n.selectedTab)("destroyOnHide",!1),S.Cb(2),S.pc("ngIf",n.issue.issueType===n.localNodeType.Epic),S.Cb(1),S.pc("ngIf",n.groupedRelatedLinks&&n.groupedRelatedLinks.length>0),S.Cb(1),S.pc("ngbNavItem",3),S.Cb(4),S.pc("ngbNavOutlet",s)}}var Ye,Ze=((Ye=function(){function e(t,i){var s=this;_classCallCheck(this,e),this.cdRef=t,this.store$=i,this.allRelatedIssuesVisible=!0,this.allEpicChildrenVisible=!0,this.contentHeight=0,this.selectedTab=1,this.leftPaneSize=60,this.columns=[{visible:!0,size:60},{visible:!0,size:40}],this.resetSelectedRelatedIssue=function(){return s.selectedRelatedIssue=null},this.resetSelectedEpicIssue=function(){return s.selectedEpicIssue=null},this.localNodeType=C.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.selectedIssue$=this.store$.select((function(e){return e.issue.selectedIssue})).pipe(Object(W.a)((function(e){return e}))).subscribe((function(t){e.issue=t,e.selectedRelatedIssue=null,e.selectedEpicIssue=null,e.issue.relatedLinksLoaded&&!e.groupedRelatedLinks&&(e.groupedRelatedLinks=Object(r.a)(e.issue.relatedLinks,"linkType"),e.issue.relatedLinksCount=e.groupedRelatedLinks.length,e.selectedTab=e.groupedRelatedLinks.length>0?2:3,e.toggleAllRelatedIssues()),e.issue.issueType===C.a.Epic&&e.issue.epicChildrenLoaded&&e.groupEpicChildren("status")}))}},{key:"ngOnDestroy",value:function(){this.epicChildrenLoaded$&&this.epicChildrenLoaded$.unsubscribe(),this.selectedIssue$&&this.selectedIssue$.unsubscribe()}},{key:"ngAfterViewInit",value:function(){this.contentHeight=this.elementView.nativeElement.offsetParent.clientHeight-134,this.cdRef.detectChanges()}},{key:"dragEnd",value:function(e){this.adjustPaneSize(e.sizes[0])}},{key:"adjustPaneSize",value:function(e){this.leftPaneSize=e,this.columns[0].size=e,this.columns[1].size=100-e}},{key:"toggleFullscreen",value:function(){this.adjustPaneSize(0===this.leftPaneSize?60:0)}},{key:"selectRelatedIssue",value:function(e){this.selectedRelatedIssue=e,this.selectedRelatedIssue.projectConfig=this.issue.projectConfig}},{key:"selectEpicIssue",value:function(e){this.selectedEpicIssue=e,this.selectedEpicIssue.projectConfig=this.issue.projectConfig}},{key:"groupEpicChildren",value:function(e){if(this.selectedTab=1,this.issue&&!this.groupedEpicChildren){var t=this.issue.epicChildren;t&&t.length>0&&(this.groupedEpicChildren=Object(r.a)(t,e)),this.toggleAllEpicChildren()}}},{key:"toggleAllEpicChildren",value:function(){var e=this;this.selectedIssue=null,this.allEpicChildrenVisible=!this.allEpicChildrenVisible,this.groupedEpicChildren&&this.groupedEpicChildren.forEach((function(t){return t.visible=1===e.groupedEpicChildren.length||e.allEpicChildrenVisible}))}},{key:"toggleAllRelatedIssues",value:function(){var e=this;this.selectedIssue=null,this.allRelatedIssuesVisible=!this.allRelatedIssuesVisible,this.groupedRelatedLinks&&this.groupedRelatedLinks.length>0&&this.groupedRelatedLinks.forEach((function(t){return t.visible=1===e.groupedRelatedLinks.length||e.allRelatedIssuesVisible}))}},{key:"reloadSubtasks",value:function(){this.selectedEpicIssue=null,this.selectedRelatedIssue=null,this.selectedIssue=this.issue}}]),e}()).\u0275fac=function(e){return new(e||Ye)(S.Qb(S.h),S.Qb(n.h))},Ye.\u0275cmp=S.Kb({type:Ye,selectors:[["app-workbench"]],viewQuery:function(e,t){var i;1&e&&S.Oc(Ve,!0),2&e&&S.zc(i=S.jc())&&(t.elementView=i.first)},decls:3,vars:3,consts:[["content",""],["direction","horizontal",3,"gutterDblClick","dragEnd",4,"ngIf"],["direction","horizontal",3,"gutterDblClick","dragEnd"],[3,"size"],[1,"mr-3","alert","bg-light",2,"overflow","auto"],[3,"data"],[3,"issue",4,"ngIf"],[3,"size","ngClass"],["title","expand/collapse pane",1,"btn","btn-sm","btn-link","text-muted","float-right",3,"click"],[3,"icon","fixedWidth"],["ngbNav","",1,"nav-tabs",3,"activeId","destroyOnHide","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem",4,"ngIf"],[3,"ngbNavItem"],["ngbNavLink","",3,"click"],["ngbNavContent",""],[1,"mt-2",3,"ngbNavOutlet"],[3,"issue"],["size","sm",3,"icon","fixedWidth",4,"ngIf"],["size","sm",3,"icon","fixedWidth"],[1,"pl-2","pr-2","pb-2"],["class","alert alert-warning",4,"ngIf"],[4,"ngIf"],[1,"alert","alert-warning"],[4,"ngFor","ngForOf"],["routerLink","../storyboard",1,"btn","btn-light","btn-sm","text-primary","mt-4"],["icon","chevron-right","size","sm"],[1,"text-muted","text-uppercase","mt-1","mb-1"],[1,"btn","btn-sm","btn-link","text-left","text-dark",3,"ngClass","click"],[1,"ml-2"],["class","mb-4",4,"ngIf"],[1,"mb-4"],["class","ml-3 p-1 border-bottom text-no-wrap",4,"ngFor","ngForOf"],[1,"ml-3","p-1","border-bottom","text-no-wrap"],[1,"float-right",3,"issueKey"],[1,"badge","badge-light","font-weight-normal","text-uppercase","float-right","mt-1"],[1,"mr-1"],[1,"text-primary","mr-2",3,"click"],[3,"issue","showIssue","close"],["class","ml-3 p-1 border-bottom text-no-wrap",3,"title",4,"ngFor","ngForOf"],[1,"ml-3","p-1","border-bottom","text-no-wrap",3,"title"],[3,"issue","showIssue"]],template:function(e,t){1&e&&(S.Wb(0,"div",null,0),S.Ic(2,Ge,17,15,"as-split",1),S.Vb()),2&e&&(S.Hc("height",t.contentHeight,"px"),S.Cb(2),S.pc("ngIf",t.issue))},directives:[s.l,Z.c,Z.b,x.a,s.j,w.a,Y.j,Y.l,Y.m,Y.k,Y.o,re,s.k,F.f,_.a,Se],encapsulation:2}),Ye),et=i("iLqC"),tt=i("Ewkv"),it=i("lVkt"),st=i("/RsI"),nt=i("NGyg");function ct(e,t){if(1&e){var i=S.Xb();S.Wb(0,"div"),S.Wb(1,"input",11),S.ic("ngModelChange",(function(e){return S.Bc(i),S.kc(3).includeEpicChildren=e}))("change",(function(){return S.Bc(i),S.kc(3).plotIssuesOnStoryboard()})),S.Vb(),S.Wb(2,"b",12),S.Kc(3),S.Vb(),S.Kc(4," issues in this epic "),S.Vb()}if(2&e){var s=S.kc(3);S.Cb(1),S.pc("ngModel",s.includeEpicChildren),S.Cb(2),S.Lc(s.storyboardItem.epicChildren.length)}}function at(e,t){if(1&e){var i=S.Xb();S.Wb(0,"div"),S.Wb(1,"input",11),S.ic("ngModelChange",(function(e){return S.Bc(i),S.kc(3).includeRelatedIssues=e}))("change",(function(){return S.Bc(i),S.kc(3).plotIssuesOnStoryboard()})),S.Vb(),S.Wb(2,"b",12),S.Kc(3),S.Vb(),S.Kc(4," related issues "),S.Vb()}if(2&e){var s=S.kc(3);S.Cb(1),S.pc("ngModel",s.includeRelatedIssues),S.Cb(2),S.Lc(s.storyboardItem.relatedLinks.length)}}function rt(e,t){if(1&e&&(S.Ub(0),S.Ic(1,ct,5,2,"div",4),S.Ic(2,at,5,2,"div",4),S.Tb()),2&e){var i=S.kc(2);S.Cb(1),S.pc("ngIf",i.storyboardItem.epicChildren&&i.storyboardItem.epicChildren.length>0),S.Cb(1),S.pc("ngIf",i.storyboardItem.relatedLinks&&i.storyboardItem.relatedLinks.length>0)}}function ot(e,t){if(1&e&&(S.Wb(0,"div",14),S.Wb(1,"span",15),S.Kc(2),S.Vb(),S.Kc(3," unplanned issues. "),S.Vb()),2&e){var i=S.kc(3);S.Cb(2),S.Lc(i.storyboardItem.metadata.backlogCount)}}function lt(e,t){if(1&e&&(S.Wb(0,"div"),S.Wb(1,"span",15),S.Kc(2),S.Vb(),S.Kc(3," issues in unknown functional areas. "),S.Vb()),2&e){var i=S.kc(3);S.Cb(2),S.Lc(i.storyboardItem.metadata.noComponentCount)}}function ut(e,t){if(1&e&&(S.Ub(0),S.Ic(1,ot,4,1,"div",13),S.Ic(2,lt,4,1,"div",4),S.Tb()),2&e){var i=S.kc(2);S.Cb(1),S.pc("ngIf",i.storyboardItem.metadata.backlogCount>0),S.Cb(1),S.pc("ngIf",i.storyboardItem.metadata.noComponentCount>0)}}function dt(e,t){if(1&e){var i=S.Xb();S.Wb(0,"p-multiSelect",16),S.ic("ngModelChange",(function(e){return S.Bc(i),S.kc(2).selectedStatuses=e}))("onChange",(function(e){return S.Bc(i),S.kc(2).onSelectedStatusChange(e)})),S.Vb()}if(2&e){var s=S.kc(2);S.pc("options",s.statusLookup)("ngModel",s.selectedStatuses)}}var bt=function(){return["far","chart-bar"]};function pt(e,t){if(1&e){var i=S.Xb();S.Wb(0,"button",17),S.ic("click",(function(){return S.Bc(i),S.kc(2).showStatistics=!0})),S.Rb(1,"fa-icon",18),S.Vb()}2&e&&(S.Cb(1),S.pc("icon",S.sc(1,bt)))}function ht(e,t){if(1&e){var i=S.Xb();S.Wb(0,"p-dialog",19),S.ic("visibleChange",(function(e){return S.Bc(i),S.kc(2).showStatistics=e})),S.Rb(1,"app-statistics",20),S.Vb()}if(2&e){var s=S.kc(2);S.pc("visible",s.showStatistics),S.Cb(1),S.pc("statusStats",s.storyboardItem.statistics.status)("issueTypeStats",s.storyboardItem.statistics.issueTypes)("componentStats",s.storyboardItem.statistics.components)}}function ft(e,t){if(1&e){var i=S.Xb();S.Wb(0,"div",1),S.Wb(1,"div",2),S.Wb(2,"div",3),S.Ic(3,rt,3,2,"ng-container",4),S.Vb(),S.Wb(4,"div",3),S.Ic(5,ut,3,2,"ng-container",4),S.Vb(),S.Wb(6,"div",5),S.Ic(7,dt,1,2,"p-multiSelect",6),S.Vb(),S.Wb(8,"div",7),S.Ic(9,pt,2,2,"button",8),S.Vb(),S.Vb(),S.Wb(10,"app-storyboard-renderer",9),S.ic("fieldValueChange",(function(e){return S.Bc(i),S.kc().onFieldValueChanged(e)})),S.Vb(),S.Ic(11,ht,2,4,"p-dialog",10),S.Vb()}if(2&e){var s=S.kc();S.Cb(3),S.pc("ngIf",s.storyboardItem.epicChildren&&s.storyboardItem.epicChildren.length>0||s.storyboardItem.relatedLinks&&s.storyboardItem.relatedLinks.length>0),S.Cb(2),S.pc("ngIf",s.storyboardItem.metadata&&(s.storyboardItem.metadata.backlogCount>0||s.storyboardItem.metadata.noComponentCount>0)),S.Cb(2),S.pc("ngIf",s.statusLookup&&s.statusLookup.length>0),S.Cb(2),S.pc("ngIf",s.storyboardItem.epicChildren&&s.storyboardItem.epicChildren.length>0||s.storyboardItem.relatedLinks&&s.storyboardItem.relatedLinks.length>0),S.Cb(1),S.pc("storyboardItem",s.storyboardItem),S.Cb(1),S.pc("ngIf",s.storyboardItem&&s.storyboardItem.statistics)}}var gt,yt,mt=((gt=function(){function e(t){_classCallCheck(this,e),this.store$=t,this.selectedStatuses=[],this.statusLookup=[],this.includeRelatedIssues=!1,this.relatedIssuesIncluded=!1,this.includeEpicChildren=!1,this.epicChildrenIncluded=!1,this.showStatistics=!1,this.filterByStatus=function(e,t){return t&&t.length>0?a.filter(e,(function(e){return void 0!==a.find(t,(function(t){return t===e.status}))})):e}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.selectedItem$=this.store$.select((function(e){return e.issue.selectedIssue})).pipe(Object(W.a)((function(e){return e}))).subscribe((function(t){e.storyboardItem=a.pick(t,a.union(C.r,["relatedLinks","epicChildren"])),e.storyboardItem.children=[],e.storyboardItem.metadata=Object(et.b)(),t.issueType===C.a.Epic?e.includeEpicChildren=!0:e.includeRelatedIssues=!0,e.plotIssuesOnStoryboard()}))}},{key:"ngOnDestroy",value:function(){this.selectedItem$&&this.selectedItem$.unsubscribe()}},{key:"plotIssuesOnStoryboard",value:function(){this.storyboardItem.children=[],this.storyboardItem.metadata=Object(et.b)();var e=a.map(this.selectedStatuses,"key");if(this.includeEpicChildren&&this.storyboardItem.epicChildren&&this.storyboardItem.epicChildren.length>0){this.epicChildrenIncluded=!0;var t=this.filterByStatus(this.storyboardItem.epicChildren,e);this.storyboardItem.children=a.union(this.storyboardItem.children,t),Object(et.c)(this.storyboardItem.metadata,Object(et.a)(t))}if(this.includeRelatedIssues&&this.storyboardItem.relatedLinks&&this.storyboardItem.relatedLinks.length>0){this.relatedIssuesIncluded=!0;var i=this.filterByStatus(this.storyboardItem.relatedLinks,e);this.storyboardItem.children=a.union(this.storyboardItem.children,i),Object(et.c)(this.storyboardItem.metadata,Object(et.a)(i))}this.storyboardItem.statistics=Object(et.d)(this.storyboardItem),this.storyboardItem.statistics&&this.statusLookup&&0===this.statusLookup.length&&(this.statusLookup=this.storyboardItem.statistics.status)}},{key:"onFieldValueChanged",value:function(e){this.store$.dispatch(new v(e))}},{key:"onSelectedStatusChange",value:function(e){this.plotIssuesOnStoryboard()}}]),e}()).\u0275fac=function(e){return new(e||gt)(S.Qb(n.h))},gt.\u0275cmp=S.Kb({type:gt,selectors:[["app-storyboard"]],decls:1,vars:1,consts:[["class","pr-3",4,"ngIf"],[1,"pr-3"],[1,"row","small"],[1,"col-md-4","mb-3"],[4,"ngIf"],[1,"col-md-3"],["styleClass","w-100","defaultLabel","Filter","optionLabel","key",3,"options","ngModel","ngModelChange","onChange",4,"ngIf"],[1,"col-md-1"],["class","btn btn-link",3,"click",4,"ngIf"],[3,"storyboardItem","fieldValueChange"],["header","Statistics","position","right","class","bg-light",3,"visible","visibleChange",4,"ngIf"],["type","checkbox",3,"ngModel","ngModelChange","change"],[1,"badge","badge-success","ml-1"],["class","mr-4",4,"ngIf"],[1,"mr-4"],[1,"badge","badge-warning"],["styleClass","w-100","defaultLabel","Filter","optionLabel","key",3,"options","ngModel","ngModelChange","onChange"],[1,"btn","btn-link",3,"click"],["size","lg",3,"icon"],["header","Statistics","position","right",1,"bg-light",3,"visible","visibleChange"],[3,"statusStats","issueTypeStats","componentStats"]],template:function(e,t){1&e&&S.Ic(0,ft,12,6,"div",0),2&e&&S.pc("ngIf",t.storyboardItem)},directives:[s.l,tt.a,M.a,M.f,M.i,it.a,w.a,st.a,nt.a],encapsulation:2}),gt),It=i("snw9"),vt=i("mrSG"),kt=i("eIep"),Ct=i("JIr8"),jt=i("vkgz"),Ot=i("LRne"),Lt=i("F2Ol"),St=i("yVuU"),Vt=((yt=function(){function e(t,i,s){var n=this;_classCallCheck(this,e),this.actions$=t,this.jiraService=i,this.cachingService=s,this.loadPrimaryIssue=this.actions$.pipe(Object(It.d)(o.LoadPrimaryIssue),Object(kt.a)((function(e){return n.getIssueDetails(e.payload).pipe(Object(B.a)((function(e){return{type:o.LoadPrimaryIssueSuccess,payload:e}})),Object(Ct.a)((function(){return Object(Ot.a)({type:o.LoadPrimaryIssueFailed})})))}))),this.loadPrimaryIssueEpicChildren=this.actions$.pipe(Object(It.d)(o.LoadPrimaryIssueEpicChildren),Object(kt.a)((function(e){return n.jiraService.executeJql("'epic Link'=".concat(e.payload),0,100,C.l,"epic-children.json").pipe(Object(B.a)((function(e){return{type:o.LoadPrimaryIssueEpicChildrenSuccess,payload:e}})),Object(Ct.a)((function(){return Object(Ot.a)({type:o.LoadPrimaryIssueEpicChildrenFailed})})))}))),this.loadPrimaryIssueRelatedLinks=this.actions$.pipe(Object(It.d)(o.LoadPrimaryIssueRelatedLinks),Object(kt.a)((function(e){return n.jiraService.executeJql("key in (".concat(a.join(e.payload,","),")"),0,100,C.l,"linked-issues.json").pipe(Object(B.a)((function(e){return{type:o.LoadPrimaryIssueRelatedLinksSuccess,payload:e}})),Object(Ct.a)((function(){return Object(Ot.a)({type:o.LoadPrimaryIssueRelatedLinksFailed})})))}))),this.loadSelectedIssue=this.actions$.pipe(Object(It.d)(o.LoadSelectedIssue),Object(kt.a)((function(e){return n.getIssueDetails(e.payload).pipe(Object(B.a)((function(e){return{type:o.LoadSelectedIssueSuccess,payload:e}})),Object(Ct.a)((function(){return Object(Ot.a)({type:o.LoadSelectedIssueFailed})})))}))),this.loadSelectedIssueEpicChildren=this.actions$.pipe(Object(It.d)(o.LoadSelectedIssueEpicChildren),Object(kt.a)((function(e){return n.jiraService.executeJql("'epic Link'=".concat(e.payload),0,100,C.l,"epic-children.json").pipe(Object(B.a)((function(e){return{type:o.LoadSelectedIssueEpicChildrenSuccess,payload:e}})),Object(Ct.a)((function(){return Object(Ot.a)({type:o.LoadSelectedIssueEpicChildrenFailed})})))}))),this.loadSelectedIssueRelatedLinks=this.actions$.pipe(Object(It.d)(o.LoadSelectedIssueRelatedLinks),Object(kt.a)((function(e){return n.jiraService.executeJql("key in (".concat(a.join(e.payload,","),")"),0,100,C.l,"linked-issues.json").pipe(Object(B.a)((function(e){return{type:o.LoadSelectedIssueRelatedLinksSuccess,payload:e}})),Object(Ct.a)((function(){return Object(Ot.a)({type:o.LoadSelectedIssueRelatedLinksFailed})})))}))),this.loadSubtasks=this.actions$.pipe(Object(It.d)(o.LoadSubtasks),Object(kt.a)((function(e){return n.jiraService.executeJql("issuetype in (".concat(e.payload.subTaskIssueTypes,") AND parent=").concat(e.payload.issueKey),0,100,a.map(e.payload.extendedFields,"id"),"test-cases.json").pipe(Object(B.a)((function(t){return{type:o.LoadSubtasksSuccess,payload:{result:t,extendedFields:e.payload.extendedFields}}})),Object(Ct.a)((function(){return Object(Ot.a)({type:o.LoadSubtasksFailed})})))}))),this.loadProjectConfig=this.actions$.pipe(Object(It.d)(o.LoadProjectDetails),Object(kt.a)((function(e){return n.jiraService.getProjectDetails(e.payload).pipe(Object(B.a)((function(e){var t=null;return e&&e.length>0&&((t=e[0]).customFields=a.sortBy(a.map(a.filter(e[1],{custom:!0}),(function(e){return a.pick(e,["id","name"])})),["name"])),{type:o.LoadProjectDetailsSuccess,payload:t}})),Object(Ct.a)((function(){return Object(Ot.a)({type:o.LoadProjectDetailsFailed})})))}))),this.updateFixVersions=this.actions$.pipe(Object(It.d)(o.UpdateFieldValue),Object(kt.a)((function(e){return n.jiraService.updateFieldValue$(e.payload).pipe(Object(B.a)((function(){return{type:o.UpdateFieldValueSuccess,payload:e.payload}})),Object(Ct.a)((function(){return Object(Ot.a)({type:o.UpdateFieldValueFailed})})))}))),this.updateOrganizationTitle=this.actions$.pipe(Object(It.d)(o.UpdateOrganizationTitle),Object(jt.a)((function(e){return n.cachingService.setOrganization(e.payload)})),Object(kt.a)((function(e){return Object(Ot.a)({type:o.UpdateOrganizationTitleSuccess,payload:e.payload})})))}return _createClass(e,[{key:"getIssueDetails",value:function(e){var t=this;return this.jiraService.getIssueDetails(e.issue,a.map(e.extendedFields,"id")).pipe(Object(B.a)((function(i){var s={issue:i,extendedFields:e.extendedFields,organization:t.cachingService.getOrganization(),projectConfig:null};return i&&i.fields&&i.fields.project&&i.fields.project.key&&i.fields.project.key.length>0&&(s.projectConfig=t.cachingService.getProjectDetails(i.fields.project.key)),s})))}}]),e}()).\u0275fac=function(e){return new(e||yt)(S.ec(It.a),S.ec(Lt.b),S.ec(St.a))},yt.\u0275prov=S.Mb({token:yt,factory:yt.\u0275fac}),Object(vt.b)([Object(It.b)()],yt.prototype,"loadPrimaryIssue",void 0),Object(vt.b)([Object(It.b)()],yt.prototype,"loadPrimaryIssueEpicChildren",void 0),Object(vt.b)([Object(It.b)()],yt.prototype,"loadPrimaryIssueRelatedLinks",void 0),Object(vt.b)([Object(It.b)()],yt.prototype,"loadSelectedIssue",void 0),Object(vt.b)([Object(It.b)()],yt.prototype,"loadSelectedIssueEpicChildren",void 0),Object(vt.b)([Object(It.b)()],yt.prototype,"loadSelectedIssueRelatedLinks",void 0),Object(vt.b)([Object(It.b)()],yt.prototype,"loadSubtasks",void 0),Object(vt.b)([Object(It.b)()],yt.prototype,"loadProjectConfig",void 0),Object(vt.b)([Object(It.b)()],yt.prototype,"updateFixVersions",void 0),Object(vt.b)([Object(It.b)()],yt.prototype,"updateOrganizationTitle",void 0),yt),Wt=i("AytR"),wt=i("SYT+"),Ft=i("jhN1"),xt=i("XNiG"),Et=i("VRyK"),Rt=i("Kj3r"),Tt=i("/uUt"),$t=["instance"];function Pt(e,t){if(1&e){var i=S.Xb();S.Wb(0,"div",5),S.Wb(1,"button",6),S.ic("click",(function(){return S.Bc(i),S.kc().onShowEpiclist()})),S.Rb(2,"fa-icon",7),S.Vb(),S.Vb()}}function zt(e,t){if(1&e){var i=S.Xb();S.Wb(0,"div",8),S.Wb(1,"button",9),S.ic("click",(function(){S.Bc(i);var e=S.kc();return e.navigateTo(e.issue)})),S.Rb(2,"fa-icon",10),S.Vb(),S.Vb()}2&e&&(S.Cb(2),S.pc("fixedWidth",!0))}var Kt,Nt=((Kt=function(){function e(t,i,s){var n=this;_classCallCheck(this,e),this.router=t,this.activatedRoute=i,this.store$=s,this.hideIssuelistNavigator=!0,this.showIssuelist=new S.n,this.canNavigate=function(){return n.issue&&n.issue.trim().length>0},this.focus$=new xt.a,this.click$=new xt.a,this.search=function(e){var t=e.pipe(Object(Rt.a)(200),Object(Tt.a)()),i=n.click$.pipe(Object(W.a)((function(){return!n.instance.isPopupOpen()}))),s=n.focus$;return Object(Et.a)(t,s,i).pipe(Object(B.a)((function(e){return""===e?n.issueLookup:a.filter(n.issueLookup||[],(function(t){return t.toLowerCase().indexOf(e.toLowerCase())>-1}))})),Object(B.a)((function(e){return(e||[]).slice(0,20)})))}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.subscription=this.store$.select((function(e){return e.issue.primaryIssueKey})).pipe(Object(W.a)((function(e){return e&&e.length>0}))).subscribe((function(t){return e.issue=t}))}},{key:"ngOnDestroy",value:function(){}},{key:"navigateTo",value:function(e){this.canNavigate()&&this.router.navigate(["/browse",e.trim()])}},{key:"selectTo",value:function(e){if(this.canNavigate()){var t=e.trim();a.find(this.issueLookup,(function(e){return e===t}))?this.router.navigate(["purpose",t,"details"],{relativeTo:this.activatedRoute}):this.router.navigate(["/browse",t,"purpose",t,"details"])}}},{key:"onShowEpiclist",value:function(){this.showIssuelist.emit(!0)}}]),e}()).\u0275fac=function(e){return new(e||Kt)(S.Qb(F.d),S.Qb(F.a),S.Qb(n.h))},Kt.\u0275cmp=S.Kb({type:Kt,selectors:[["app-issue-entry"]],viewQuery:function(e,t){var i;1&e&&S.Gc($t,!0),2&e&&S.zc(i=S.jc())&&(t.instance=i.first)},inputs:{issueLookup:"issueLookup",hideIssuelistNavigator:"hideIssuelistNavigator"},outputs:{showIssuelist:"showIssuelist"},decls:5,vars:4,consts:[[1,"input-group"],["class","input-group-prepend",4,"ngIf"],["type","text","name","issueByKeyId","placeholder","Jira issue key","id","typeahead-focus","type","text",1,"form-control","rounded-0","bg-light",3,"ngModel","ngbTypeahead","ngModelChange","focus","click","keydown.enter","keydown.control.enter"],["instance","ngbTypeahead"],["class","input-group-append",4,"ngIf"],[1,"input-group-prepend"],[1,"btn","btn-light","rounded-0","border","text-primary",3,"click"],["icon","bars"],[1,"input-group-append"],["type","button",1,"btn","btn-light","rounded-0","border","border-left-0","text-primary",3,"click"],["icon","chevron-right",3,"fixedWidth"]],template:function(e,t){1&e&&(S.Wb(0,"div",0),S.Ic(1,Pt,3,0,"div",1),S.Wb(2,"input",2,3),S.ic("ngModelChange",(function(e){return t.issue=e}))("focus",(function(e){return t.focus$.next(e.target.value)}))("click",(function(e){return t.click$.next(e.target.value)}))("keydown.enter",(function(){return t.selectTo(t.issue)}))("keydown.control.enter",(function(){return t.navigateTo(t.issue)})),S.Vb(),S.Ic(4,zt,3,1,"div",4),S.Vb()),2&e&&(S.Cb(1),S.pc("ngIf",!t.hideIssuelistNavigator),S.Cb(1),S.pc("ngModel",t.issue)("ngbTypeahead",t.search),S.Cb(2),S.pc("ngIf",t.canNavigate()))},directives:[s.l,M.b,Y.t,M.f,M.i,w.a],encapsulation:2}),Kt),Mt=i("yNBN"),Dt=i("g9iH"),Bt=i("7zfz"),_t=i("/Azu"),Ut=function(e,t){return{"small text-muted text-uppercase font-italic":e,"font-weight-bold":t}};function At(e,t){if(1&e&&(S.Wb(0,"div",17),S.Kc(1),S.Vb()),2&e){var i=t.$implicit,s=S.kc(3);S.pc("ngClass",S.uc(3,Ut,s.checkIfCustomNode(i),i.key===s.issueKey))("title",s.getIssueTitle(i)),S.Cb(1),S.Mc(" ",i.label,"")}}function Xt(e,t){if(1&e&&(S.Wb(0,"div",18),S.Kc(1),S.Vb()),2&e){var i=t.$implicit,s=S.kc(3);S.pc("title",s.getHeaderTitle(i)),S.Cb(1),S.Mc(" ",i.label," ")}}function Ht(e,t){1&e&&S.Rb(0,"fa-icon",21)}function Qt(e,t){if(1&e&&(S.Wb(0,"i",19),S.Kc(1),S.Ic(2,Ht,1,0,"fa-icon",20),S.Vb()),2&e){var i=t.$implicit;S.Cb(1),S.Mc(" ",i.label," "),S.Cb(1),S.pc("ngIf",i.editable)}}function qt(e,t){if(1&e){var i=S.Xb();S.Wb(0,"div",22),S.Wb(1,"input",23),S.ic("ngModelChange",(function(e){return S.Bc(i),t.$implicit.title=e}))("keydown.enter",(function(e){S.Bc(i);var s=t.$implicit;return S.kc(3).updateNodeTitleOnEnter(e,s)}))("keydown.escape",(function(e){S.Bc(i);var s=t.$implicit;return S.kc(3).cancelNodeEditingOnEscape(e,s)})),S.Vb(),S.Wb(2,"div",24),S.Wb(3,"button",25),S.ic("click",(function(){S.Bc(i);var e=t.$implicit;return S.kc(3).updateNodeTitle(e)})),S.Rb(4,"fa-icon",26),S.Vb(),S.Wb(5,"button",27),S.ic("click",(function(){S.Bc(i);var e=t.$implicit;return S.kc(3).cancelNodeEditing(e)})),S.Rb(6,"fa-icon",28),S.Vb(),S.Vb(),S.Vb()}if(2&e){var s=t.$implicit,n=S.kc(3);S.Cb(1),S.pc("appAutofocus","Editing"===s.type)("ngModel",s.title),S.Cb(2),S.pc("disabled",!n.canUpdateTitle(s))}}var Jt=function(e){return[e]};function Gt(e,t){if(1&e){var i=S.Xb();S.Wb(0,"div",9),S.Rb(1,"p-contextMenu",10,11),S.Wb(3,"p-tree",12),S.ic("selectionChange",(function(e){return S.Bc(i),S.kc(2).selectedNode=e}))("onNodeSelect",(function(e){return S.Bc(i),S.kc(2).nodeSelected(e)})),S.Ic(4,At,2,6,"ng-template",13),S.Ic(5,Xt,2,2,"ng-template",14),S.Ic(6,Qt,3,2,"ng-template",15),S.Ic(7,qt,7,3,"ng-template",16),S.Vb(),S.Vb()}if(2&e){var s=S.kc(2);S.Cb(1),S.pc("model",s.menulist),S.Cb(2),S.pc("value",S.tc(3,Jt,s.rootNode))("selection",s.selectedNode)}}function Yt(e,t){if(1&e){var i=S.Xb();S.Wb(0,"div"),S.Wb(1,"div",6),S.Wb(2,"app-issue-entry",7),S.ic("showIssuelist",(function(){return S.Bc(i),S.kc().onShowIssuelist()})),S.Vb(),S.Vb(),S.Ic(3,Gt,8,5,"div",8),S.Vb()}if(2&e){var s=S.kc();S.Cb(2),S.pc("hideIssuelistNavigator",!1),S.Cb(1),S.pc("ngIf",s.rootNode)}}var Zt,ei=((Zt=function(){function e(t,i,s,n){var c=this;_classCallCheck(this,e),this.router=t,this.activatedRoute=i,this.titleService=s,this.store$=n,this.extendedFields=[],this.cancelNodeEditingOnEscape=function(e,t){e.stopPropagation(),e.preventDefault(),c.cancelNodeEditing(t)},this.canUpdateTitle=function(e){return e&&e.title&&e.title.trim().length>0},this.updateNodeTitleOnEnter=function(e,t){e.stopPropagation(),e.preventDefault(),c.updateNodeTitle(t)},this.getIssueTitle=function(e){return Object(C.p)(e)?e.title:"[".concat(e.issueType,"] ").concat(e.linkType||""," ").concat(e.key," | ").concat(e.title)},this.getHeaderTitle=function(e){return"[".concat(e.issueType,"] ").concat(e.title)},this.checkIfCustomNode=function(e){return Object(C.p)(e)},this.leftPaneSize=20,this.columns=[{visible:!0,size:20},{visible:!0,size:80}]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.reloadOnChange();var t=this.activatedRoute.params.pipe(Object(W.a)((function(e){return e&&e.issue&&e.issue.length>0})),Object(B.a)((function(e){return e.issue}))),i=this.store$.select((function(e){return e.app.projects}));this.combined$=Object(V.a)(t,i).subscribe((function(t){var i=_slicedToArray(t,2),s=i[0],n=i[1];e.titleService.setTitle("".concat(Wt.a.appTitle,": ").concat(s)),n&&(e.extendedFields=a.union(a.flatten(a.map(n,"hierarchy")),a.filter(a.flatten(a.map(n,"customFields")),{name:"Epic Link"}))),e.store$.dispatch(new l({issue:s,extendedFields:e.extendedFields}))})),this.primaryIssue$=this.store$.select((function(e){return e.issue.primaryIssue})).pipe(Object(W.a)((function(e){return e}))).subscribe((function(t){e.primaryIssue=t,e.populateProjectConfig(),e.populateEpicChildren(),e.populateRelatedLinks(),e.buildTree()}))}},{key:"reloadOnChange",value:function(){var e=this;this.currentProjectUpdated$=this.store$.select((function(e){return e.app.currentProjectUpdated})).pipe(Object(W.a)((function(t){return!0===t&&e.primaryIssue}))).subscribe((function(){e.store$.dispatch(new l({issue:e.primaryIssue.key,extendedFields:e.extendedFields}))})),this.updatedField$=this.store$.select((function(e){return e.issue.updatedField})).pipe(Object(W.a)((function(t){return t&&e.primaryIssue}))).subscribe((function(){e.store$.dispatch(new l({issue:e.primaryIssue.key,extendedFields:e.extendedFields}))}))}},{key:"ngOnDestroy",value:function(){this.currentProjectUpdated$&&this.currentProjectUpdated$.unsubscribe(),this.updatedField$&&this.updatedField$.unsubscribe(),this.combined$&&this.combined$.unsubscribe(),this.primaryIssue$&&this.primaryIssue$.unsubscribe()}},{key:"buildTree",value:function(){if(!0===this.primaryIssue.epicChildrenLoaded&&!0===this.primaryIssue.relatedLinksLoaded&&!0===this.primaryIssue.projectConfigLoaded){var e=Object(C.j)(this.primaryIssue.organization),t=Object(C.k)(this.primaryIssue.projectConfig),i=this.primaryIssue.projectConfig.hierarchy?this.prepareHierarchyNodes():null;t=Object(C.c)(e,t),i=Object(C.c)(t,i),this.primaryIssue.expanded=!0,this.rootNode=Object(C.c)(i,this.primaryIssue),this.store$.dispatch(new b(this.rootNode))}}},{key:"prepareHierarchyNodes",value:function(){var e=this,t={children:[]};if(this.primaryIssue.projectConfig.hierarchy.forEach((function(i){var s=a.find(e.primaryIssue.extendedFields,{id:i.id});s&&s.extendedValue&&s.extendedValue.length>0&&t.children.push(Object(C.i)(s))})),t.children.length>0){var i=t.children[0];return Object(C.f)(t.children,i),i}return null}},{key:"populateEpicChildren",value:function(){this.primaryIssue.issueType===C.a.Epic?this.primaryIssue.epicChildrenLoaded?!a.find(this.primaryIssue.children,{issueType:C.a.EpicChildren})&&this.primaryIssue.epicChildren&&this.primaryIssue.epicChildren.length>0&&(this.primaryIssue.children=this.primaryIssue.children||[],this.primaryIssue.children.unshift(Object(C.h)(this.primaryIssue)),this.primaryIssue.expanded=!0):this.primaryIssue.epicChildrenLoading||this.store$.dispatch(new u(this.primaryIssue.key)):this.primaryIssue.epicChildrenLoaded=!0}},{key:"populateRelatedLinks",value:function(){var e=this;if(this.primaryIssue&&this.primaryIssue.relatedLinks&&this.primaryIssue.relatedLinks.length>0)if(this.primaryIssue.relatedLinksLoaded){if(0===a.filter(this.primaryIssue.children,{issueType:C.a.RelatedLink}).length){var t=Object(C.e)(this.primaryIssue.relatedLinks,this.primaryIssue.key);t&&(this.primaryIssue.children=this.primaryIssue.children||[],t.forEach((function(t){return e.primaryIssue.children.push(t)})))}}else!this.primaryIssue.relatedLinksLoading&&this.primaryIssue.relatedLinks&&this.primaryIssue.relatedLinks.length>0&&this.store$.dispatch(new d(a.map(this.primaryIssue.relatedLinks,"key")));else this.primaryIssue.relatedLinksLoaded=!0}},{key:"populateProjectConfig",value:function(){this.primaryIssue.projectConfigLoaded?this.primaryIssue.projectConfig&&this.store$.dispatch(new wt.m(this.primaryIssue.projectConfig)):this.primaryIssue.project&&this.primaryIssue.project.key&&this.primaryIssue.project.key.length>0&&!this.primaryIssue.projectConfigLoading&&this.store$.dispatch(new h(this.primaryIssue.project.key))}},{key:"onShowIssuelist",value:function(){this.router.navigate(["/search/list"])}},{key:"nodeSelected",value:function(e){if(e.node.editable)e.node.memento={type:e.node.type,selectable:e.node.selectable},e.node.type=C.b.Editing,e.node.selectable=!1;else{var t=(i=this.router,(s=i.parseUrl(i.url)).root.children[F.c]&&s.root.children[F.c].segments&&5===s.root.children[F.c].segments.length?a.last(s.root.children[F.c].segments).path:"details");this.router.navigate(["purpose",e.node.key,t],{relativeTo:this.activatedRoute})}var i,s}},{key:"nodeContextMenuSelect",value:function(e){console.log(e)}},{key:"cancelNodeEditing",value:function(e){e.memento&&(e.title="",e.type=e.memento.type,setTimeout((function(){return e.selectable=e.memento.selectable}),200))}},{key:"updateNodeTitle",value:function(e){e.title&&e.title.length>0&&(e.type=C.b.Heading,e.selectable=!1,e.key=e.title,this.store$.dispatch(new k({name:e.title})))}},{key:"dragEnd",value:function(e){this.adjustPaneSize(e.sizes[0])}},{key:"adjustPaneSize",value:function(e){this.leftPaneSize=e,this.columns[0].size=e,this.columns[1].size=100-e}},{key:"toggleFullscreen",value:function(){this.adjustPaneSize(0===this.leftPaneSize?20:0)}}]),e}()).\u0275fac=function(e){return new(e||Zt)(S.Qb(F.d),S.Qb(F.a),S.Qb(Ft.c),S.Qb(n.h))},Zt.\u0275cmp=S.Kb({type:Zt,selectors:[["app-primary-issue-container"]],decls:8,vars:5,consts:[[1,"main-container"],["direction","horizontal",3,"gutterDblClick","dragEnd"],[3,"size"],[4,"ngIf"],["title","expand/collapse pane",1,"btn","btn-sm","btn-link","text-muted","float-right",3,"click"],[3,"icon","fixedWidth"],[1,"sticky-title","p-2"],[3,"hideIssuelistNavigator","showIssuelist"],["class","pb-5",4,"ngIf"],[1,"pb-5"],["appendTo","body",3,"model"],["cm",""],["selectionMode","single",3,"value","selection","selectionChange","onNodeSelect"],["pTemplate","default"],["pTemplate","Heading"],["pTemplate","Editable"],["pTemplate","Editing"],[2,"font-size","90%",3,"ngClass","title"],[3,"title"],[1,"editable-node"],["size","sm","class","text-muted ml-1","icon","pencil-alt",4,"ngIf"],["size","sm","icon","pencil-alt",1,"text-muted","ml-1"],[1,"input-group","input-group-sm",2,"width","200px"],["type","text",1,"form-control",3,"appAutofocus","ngModel","ngModelChange","keydown.enter","keydown.escape"],[1,"input-group-append"],[1,"btn","btn-link","border",3,"disabled","click"],["icon","check"],[1,"btn","btn-link","text-danger","border",3,"click"],["icon","times"]],template:function(e,t){1&e&&(S.Wb(0,"div",0),S.Wb(1,"as-split",1),S.ic("gutterDblClick",(function(){return t.toggleFullscreen()}))("dragEnd",(function(e){return t.dragEnd(e)})),S.Wb(2,"as-split-area",2),S.Ic(3,Yt,4,2,"div",3),S.Vb(),S.Wb(4,"as-split-area",2),S.Wb(5,"button",4),S.ic("click",(function(){return t.toggleFullscreen()})),S.Rb(6,"fa-icon",5),S.Vb(),S.Rb(7,"router-outlet"),S.Vb(),S.Vb(),S.Vb()),2&e&&(S.Cb(2),S.pc("size",t.columns[0].size),S.Cb(1),S.pc("ngIf",t.leftPaneSize>0),S.Cb(1),S.pc("size",t.columns[1].size),S.Cb(2),S.pc("icon",0===t.columns[0].size?"compress-arrows-alt":"expand-arrows-alt")("fixedWidth",!0))},directives:[Z.c,Z.b,s.l,w.a,F.h,Nt,Mt.a,Dt.a,Bt.d,s.j,M.b,_t.a,M.f,M.i],encapsulation:2}),Zt);function ti(e,t){if(1&e){var i=S.Xb();S.Wb(0,"div"),S.Wb(1,"div",5),S.Rb(2,"fa-icon",6),S.Kc(3," Connection details are incomplete. "),S.Vb(),S.Wb(4,"a",7),S.ic("click",(function(){return S.Bc(i),S.kc(2).onShowSetup()})),S.Kc(5," Enter credentials "),S.Rb(6,"fa-icon",8),S.Vb(),S.Vb()}}var ii=function(){return["fab","jira"]},si=function(){return{mode:"import"}};function ni(e,t){if(1&e){var i=S.Xb();S.Wb(0,"div"),S.Wb(1,"div",9),S.Rb(2,"fa-icon",10),S.Kc(3," Please provide Jira connection details "),S.Vb(),S.Wb(4,"a",11),S.ic("click",(function(){return S.Bc(i),S.kc(2).onShowSetup()})),S.Kc(5," Manual setup "),S.Rb(6,"fa-icon",12),S.Vb(),S.Wb(7,"a",13),S.Rb(8,"fa-icon",14),S.Kc(9," Import config file "),S.Vb(),S.Vb()}2&e&&(S.Cb(2),S.pc("icon",S.sc(2,ii)),S.Cb(5),S.pc("queryParams",S.sc(3,si)))}function ci(e,t){if(1&e&&(S.Wb(0,"div",2),S.Wb(1,"div",3),S.Ic(2,ti,7,0,"div",1),S.Ic(3,ni,10,4,"div",1),S.Vb(),S.Wb(4,"div",4),S.Wb(5,"ol"),S.Wb(6,"li"),S.Kc(7,"Setup the jira connection details"),S.Vb(),S.Wb(8,"li"),S.Kc(9,"Enter the Jira issue key"),S.Vb(),S.Wb(10,"li"),S.Kc(11,"Track purpose of issue"),S.Vb(),S.Vb(),S.Vb(),S.Vb()),2&e){var i=S.kc();S.Cb(2),S.pc("ngIf",i.connectionDetails&&i.connectionDetails.serverUrl&&!i.connectionDetails.verified),S.Cb(1),S.pc("ngIf",!i.connectionDetails||!i.connectionDetails.serverUrl)}}function ai(e,t){1&e&&(S.Wb(0,"div"),S.Rb(1,"router-outlet"),S.Vb())}var ri,oi,li,ui=((li=function(){function e(t,i){_classCallCheck(this,e),this.messageService=t,this.store$=i,this.isOnlineMode=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.store$.select((function(e){return e.app.mode})).subscribe((function(t){return e.isOnlineMode=t&&t===wt.e.Online})),this.connectionDetailsSubscription=this.store$.select((function(e){return e.app.connectionDetails})).subscribe((function(t){return e.connectionDetails=t}))}},{key:"ngOnDestroy",value:function(){this.connectionDetailsSubscription&&this.connectionDetailsSubscription.unsubscribe()}},{key:"onShowSetup",value:function(){this.store$.dispatch(new wt.k(!0))}}]),e}()).\u0275fac=function(e){return new(e||li)(S.Qb(Bt.c),S.Qb(n.h))},li.\u0275cmp=S.Kb({type:li,selectors:[["app-issue-home"]],decls:2,vars:2,consts:[["class","center-text custom-shadow p-3 bg-light",4,"ngIf"],[4,"ngIf"],[1,"center-text","custom-shadow","p-3","bg-light"],[1,"alert","bg-white"],[1,"text-left"],[1,"mb-2"],["icon","exclamation-triangle",1,"text-warning"],[1,"btn","btn-sm","btn-primary","text-white","mt-2",3,"click"],["icon","chevron-right"],[1,"mb-3","alert-warning","p-2","rounded"],[1,"text-primary",3,"icon"],[1,"btn","btn-primary","btn-sm","text-white","mr-2",3,"click"],["icon","angle-right"],["routerLink","../configurations",1,"btn","btn-light","border","btn-sm",3,"queryParams"],["icon","file-import",1,"text-muted"]],template:function(e,t){1&e&&(S.Ic(0,ci,12,2,"div",0),S.Ic(1,ai,2,0,"div",1)),2&e&&(S.pc("ngIf",!(t.connectionDetails&&t.connectionDetails.verified)&&t.isOnlineMode),S.Cb(1),S.pc("ngIf",t.connectionDetails&&t.connectionDetails.verified||!1===t.isOnlineMode))},directives:[s.l,w.a,F.f,F.h],encapsulation:2}),li),di=((oi=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||oi)},oi.\u0275cmp=S.Kb({type:oi,selectors:[["app-issue-not-entered"]],decls:9,vars:0,consts:[[1,"center-text"],[1,"custom-shadow","p-4","rounded"],[1,"mt-3","mb-2"],[1,"text-right","small"],["routerLink","/search/list",1,"btn","btn-sm","btn-link"],["icon","angle-right"]],template:function(e,t){1&e&&(S.Wb(0,"div",0),S.Wb(1,"div",1),S.Kc(2," Proceed by entering Jira issue key "),S.Wb(3,"div",2),S.Rb(4,"app-issue-entry"),S.Vb(),S.Vb(),S.Wb(5,"div",3),S.Wb(6,"a",4),S.Kc(7," Instead go to query builder "),S.Rb(8,"fa-icon",5),S.Vb(),S.Vb(),S.Vb())},directives:[Nt,F.f,w.a],encapsulation:2}),oi),bi=((ri=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||ri)},ri.\u0275cmp=S.Kb({type:ri,selectors:[["app-selected-issue-home"]],decls:1,vars:0,template:function(e,t){1&e&&S.Rb(0,"router-outlet")},directives:[F.h],encapsulation:2}),ri);i.d(t,"IssueModule",(function(){return fi}));var pi,hi=[{path:"",component:ui,children:[{path:":issue",component:ei,children:[{path:"purpose",component:bi,children:[{path:":selected",component:G,children:[{path:"details",component:K},{path:"workbench",component:Ze},{path:"storyboard",component:mt},{path:"",redirectTo:"details",pathMatch:"full"}]}]}]},{path:"",component:di}]}],fi=((pi=function e(){_classCallCheck(this,e)}).\u0275mod=S.Ob({type:pi}),pi.\u0275inj=S.Nb({factory:function(e){return new(e||pi)},imports:[[s.c,F.g,M.c,x.b,Dt.b,Mt.b,st.b,D.b,it.b,Y.g,Y.c,Y.n,Y.u,w.c,Z.a,N.a,n.j.forFeature("issue",j,{initialState:c}),It.c.forFeature([Vt]),F.g.forChild(hi)]]}),pi)}}]);